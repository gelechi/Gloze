{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/gelechi/Gloze/blob/main/Copy_of_timeseries_lecture.ipynb_150525\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "!pip install numpy==1.26.0 --no-cache-dir\n",
        "!pip install pandas==1.5.3 --no-cache-dir\n",
        "!pip install pmdarima==2.0.3 --no-cache-dir\n",
        "!pip install sktime --no-cache-dir\n",
        "!pip install greykite==1.1.0 --no-cache-dir\n",
        "!pip install holidays==0.24"
      ],
      "metadata": {
        "id": "_WDS47IGHBi8",
        "collapsed": true
      },
      "id": "_WDS47IGHBi8",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Restarting the session to ensure the libraries' versions were updated.\n",
        "\n",
        "import os\n",
        "os.kill(os.getpid(), 9)"
      ],
      "metadata": {
        "id": "m8vjhNCiWdr8"
      },
      "id": "m8vjhNCiWdr8",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "source": [
        "⚠️ **NOTE: After the restart, you don't need to rerun Cells 1 and 2 !!!. Jump to the next cell: Time Series - First Lecture**"
      ],
      "metadata": {
        "id": "e8iTibIUCmqY"
      },
      "id": "e8iTibIUCmqY"
    },
    {
      "cell_type": "markdown",
      "id": "ab23427b",
      "metadata": {
        "id": "ab23427b"
      },
      "source": [
        "# Time Series - First Lecture\n",
        "\n",
        "\n"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# Setting notebook to ignore some warnings!\n",
        "import warnings\n",
        "warnings.simplefilter(action='ignore', category=FutureWarning)\n",
        "warnings.simplefilter(action='ignore', category=DeprecationWarning)\n",
        "warnings.simplefilter(action='ignore', category=UserWarning)"
      ],
      "metadata": {
        "id": "7PPapLF-3U_u"
      },
      "id": "7PPapLF-3U_u",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "import numpy as np\n",
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "import seaborn as sns"
      ],
      "metadata": {
        "id": "tW0NvAgRYLsV"
      },
      "id": "tW0NvAgRYLsV",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "id": "1efbdea9",
      "metadata": {
        "id": "1efbdea9"
      },
      "source": [
        "## Loading and cleaning the timeseries data"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "5d18f906",
      "metadata": {
        "id": "5d18f906",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 423
        },
        "outputId": "42db3b4c-7d34-44b4-842d-cd43908facba"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "      year  month   day gender  births\n",
              "768   1970      1   1.0      F    4064\n",
              "769   1970      1   1.0      M    4308\n",
              "770   1970      1   2.0      F    4536\n",
              "771   1970      1   2.0      M    4698\n",
              "772   1970      1   3.0      F    4398\n",
              "...    ...    ...   ...    ...     ...\n",
              "4588  1974     12  30.0      M    5061\n",
              "4589  1974     12  31.0      F    4817\n",
              "4590  1974     12  31.0      M    4820\n",
              "4591  1974     12  99.0      F       8\n",
              "4592  1974     12  99.0      M      22\n",
              "\n",
              "[3825 rows x 5 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-1f586a45-1d98-48f7-be81-22b651fa01b8\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>year</th>\n",
              "      <th>month</th>\n",
              "      <th>day</th>\n",
              "      <th>gender</th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>768</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>1.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4064</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>769</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>1.0</td>\n",
              "      <td>M</td>\n",
              "      <td>4308</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>770</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>2.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4536</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>771</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>2.0</td>\n",
              "      <td>M</td>\n",
              "      <td>4698</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>772</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>3.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4398</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4588</th>\n",
              "      <td>1974</td>\n",
              "      <td>12</td>\n",
              "      <td>30.0</td>\n",
              "      <td>M</td>\n",
              "      <td>5061</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4589</th>\n",
              "      <td>1974</td>\n",
              "      <td>12</td>\n",
              "      <td>31.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4817</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4590</th>\n",
              "      <td>1974</td>\n",
              "      <td>12</td>\n",
              "      <td>31.0</td>\n",
              "      <td>M</td>\n",
              "      <td>4820</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4591</th>\n",
              "      <td>1974</td>\n",
              "      <td>12</td>\n",
              "      <td>99.0</td>\n",
              "      <td>F</td>\n",
              "      <td>8</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4592</th>\n",
              "      <td>1974</td>\n",
              "      <td>12</td>\n",
              "      <td>99.0</td>\n",
              "      <td>M</td>\n",
              "      <td>22</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>3825 rows × 5 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1f586a45-1d98-48f7-be81-22b651fa01b8')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-1f586a45-1d98-48f7-be81-22b651fa01b8 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-1f586a45-1d98-48f7-be81-22b651fa01b8');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-de6f58ad-8272-4013-803c-a710aa262446\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-de6f58ad-8272-4013-803c-a710aa262446')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-de6f58ad-8272-4013-803c-a710aa262446 button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "  <div id=\"id_43af7bec-17c5-4d79-9fa3-d841ef232c0e\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('births')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_43af7bec-17c5-4d79-9fa3-d841ef232c0e button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('births');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "births",
              "summary": "{\n  \"name\": \"births\",\n  \"rows\": 3825,\n  \"fields\": [\n    {\n      \"column\": \"year\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1,\n        \"min\": 1970,\n        \"max\": 1974,\n        \"num_unique_values\": 5,\n        \"samples\": [\n          1971,\n          1974,\n          1972\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"month\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 3,\n        \"min\": 1,\n        \"max\": 12,\n        \"num_unique_values\": 12,\n        \"samples\": [\n          11,\n          10,\n          1\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"day\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 16.932039677736068,\n        \"min\": 1.0,\n        \"max\": 99.0,\n        \"num_unique_values\": 32,\n        \"samples\": [\n          30.0,\n          16.0,\n          25.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"gender\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"M\",\n          \"F\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"births\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1083,\n        \"min\": 2,\n        \"max\": 6480,\n        \"num_unique_values\": 1588,\n        \"samples\": [\n          4789,\n          5874\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 57
        }
      ],
      "source": [
        "# Source: https://www.kaggle.com/code/milanpatra/us-birthsdata-analysis/data\n",
        "url = \"https://wagon-public-datasets.s3.amazonaws.com/data-analytics/machine-learning/births.csv\"\n",
        "births = pd.read_csv(url)\n",
        "\n",
        "# We have data from 1969 - 1988. For the first part of this lecture, we will limit the data to the 1970-1974 period.\n",
        "births = births[births['year'].isin([1970, 1971, 1972, 1973, 1974])]\n",
        "births"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "efc9fdbb",
      "metadata": {
        "id": "efc9fdbb"
      },
      "source": [
        "### Inspecting the Dataset:"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "births.info()"
      ],
      "metadata": {
        "id": "W3stUwXQzsL1",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "db20d180-bb1d-4e7c-aaca-9e542af8629d"
      },
      "id": "W3stUwXQzsL1",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "<class 'pandas.core.frame.DataFrame'>\n",
            "Int64Index: 3825 entries, 768 to 4592\n",
            "Data columns (total 5 columns):\n",
            " #   Column  Non-Null Count  Dtype  \n",
            "---  ------  --------------  -----  \n",
            " 0   year    3825 non-null   int64  \n",
            " 1   month   3825 non-null   int64  \n",
            " 2   day     3825 non-null   float64\n",
            " 3   gender  3825 non-null   object \n",
            " 4   births  3825 non-null   int64  \n",
            "dtypes: float64(1), int64(3), object(1)\n",
            "memory usage: 179.3+ KB\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "births.describe()"
      ],
      "metadata": {
        "id": "I7A8x0--yuiz",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 300
        },
        "outputId": "de8fe93d-213d-4295-b568-bf5b8ae07bbd"
      },
      "id": "I7A8x0--yuiz",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "              year        month         day       births\n",
              "count  3825.000000  3825.000000  3825.00000  3825.000000\n",
              "mean   1971.998431     6.512680    18.54719  4414.206275\n",
              "std       1.415506     3.449791    16.93204  1083.087062\n",
              "min    1970.000000     1.000000     1.00000     2.000000\n",
              "25%    1971.000000     4.000000     8.00000  4212.000000\n",
              "50%    1972.000000     7.000000    16.00000  4580.000000\n",
              "75%    1973.000000    10.000000    24.00000  4950.000000\n",
              "max    1974.000000    12.000000    99.00000  6480.000000"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-47df8cce-26e5-46d9-a659-97de69d2b446\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>year</th>\n",
              "      <th>month</th>\n",
              "      <th>day</th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>count</th>\n",
              "      <td>3825.000000</td>\n",
              "      <td>3825.000000</td>\n",
              "      <td>3825.00000</td>\n",
              "      <td>3825.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>mean</th>\n",
              "      <td>1971.998431</td>\n",
              "      <td>6.512680</td>\n",
              "      <td>18.54719</td>\n",
              "      <td>4414.206275</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>std</th>\n",
              "      <td>1.415506</td>\n",
              "      <td>3.449791</td>\n",
              "      <td>16.93204</td>\n",
              "      <td>1083.087062</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>min</th>\n",
              "      <td>1970.000000</td>\n",
              "      <td>1.000000</td>\n",
              "      <td>1.00000</td>\n",
              "      <td>2.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>25%</th>\n",
              "      <td>1971.000000</td>\n",
              "      <td>4.000000</td>\n",
              "      <td>8.00000</td>\n",
              "      <td>4212.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>50%</th>\n",
              "      <td>1972.000000</td>\n",
              "      <td>7.000000</td>\n",
              "      <td>16.00000</td>\n",
              "      <td>4580.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>75%</th>\n",
              "      <td>1973.000000</td>\n",
              "      <td>10.000000</td>\n",
              "      <td>24.00000</td>\n",
              "      <td>4950.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>max</th>\n",
              "      <td>1974.000000</td>\n",
              "      <td>12.000000</td>\n",
              "      <td>99.00000</td>\n",
              "      <td>6480.000000</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-47df8cce-26e5-46d9-a659-97de69d2b446')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-47df8cce-26e5-46d9-a659-97de69d2b446 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-47df8cce-26e5-46d9-a659-97de69d2b446');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-a28ef248-963c-481d-8350-867e37c1c9ce\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-a28ef248-963c-481d-8350-867e37c1c9ce')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-a28ef248-963c-481d-8350-867e37c1c9ce button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"births\",\n  \"rows\": 8,\n  \"fields\": [\n    {\n      \"column\": \"year\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1022.2589786356701,\n        \"min\": 1.4155064912004578,\n        \"max\": 3825.0,\n        \"num_unique_values\": 8,\n        \"samples\": [\n          1971.998431372549,\n          1972.0,\n          3825.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"month\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1350.1259460531385,\n        \"min\": 1.0,\n        \"max\": 3825.0,\n        \"num_unique_values\": 8,\n        \"samples\": [\n          6.512679738562092,\n          7.0,\n          3825.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"day\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1343.4212973822437,\n        \"min\": 1.0,\n        \"max\": 3825.0,\n        \"num_unique_values\": 8,\n        \"samples\": [\n          18.54718954248366,\n          16.0,\n          3825.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"births\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 2117.148904177106,\n        \"min\": 2.0,\n        \"max\": 6480.0,\n        \"num_unique_values\": 8,\n        \"samples\": [\n          4414.206274509804,\n          4580.0,\n          3825.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 59
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [],
      "metadata": {
        "id": "dqeEBr1ZDBH9"
      },
      "id": "dqeEBr1ZDBH9",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [],
      "metadata": {
        "id": "8AHA73Oiz6fd"
      },
      "id": "8AHA73Oiz6fd",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "id": "4b8ed057",
      "metadata": {
        "id": "4b8ed057"
      },
      "source": [
        "### Building our datetime index"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "eb3914a9",
      "metadata": {
        "id": "eb3914a9"
      },
      "outputs": [],
      "source": [
        "# Create a datetime from the year, month, day\n",
        "# In the data, every month has 31 days, with the value for day 31 = day 30\n",
        "# So use errors='coerce', this will give NAs for those non-existent dates\n",
        "\n",
        "# Creating datetime from year, month, day.\n",
        "# Dropping rows with Nulls (from the coerce).\n",
        "# Setting date as the index."
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "type(pd.to_datetime(\"2021-08-01\"))"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "ufpy4dprEmGk",
        "outputId": "c3e432ae-101e-4f05-a3bb-3abf39ba66f1"
      },
      "id": "ufpy4dprEmGk",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "pandas._libs.tslibs.timestamps.Timestamp"
            ]
          },
          "metadata": {},
          "execution_count": 61
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "births[\"date\"] = pd.to_datetime(births[[\"year\", \"month\", \"day\"]], errors=\"coerce\")"
      ],
      "metadata": {
        "id": "c4loaC6KEyqI"
      },
      "id": "c4loaC6KEyqI",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "births.info()"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "3JIU1XRkFchg",
        "outputId": "4e9b8466-300e-4e49-febc-f92fabfe87e1"
      },
      "id": "3JIU1XRkFchg",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "<class 'pandas.core.frame.DataFrame'>\n",
            "Int64Index: 3825 entries, 768 to 4592\n",
            "Data columns (total 6 columns):\n",
            " #   Column  Non-Null Count  Dtype         \n",
            "---  ------  --------------  -----         \n",
            " 0   year    3825 non-null   int64         \n",
            " 1   month   3825 non-null   int64         \n",
            " 2   day     3825 non-null   float64       \n",
            " 3   gender  3825 non-null   object        \n",
            " 4   births  3825 non-null   int64         \n",
            " 5   date    3652 non-null   datetime64[ns]\n",
            "dtypes: datetime64[ns](1), float64(1), int64(3), object(1)\n",
            "memory usage: 209.2+ KB\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "births = births.dropna()"
      ],
      "metadata": {
        "id": "9OVBZfoLFu0f"
      },
      "id": "9OVBZfoLFu0f",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "births.info()"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "NJscwtRxF3Zw",
        "outputId": "0a7d4865-52d2-4f38-a7b5-4c8449dab850"
      },
      "id": "NJscwtRxF3Zw",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "<class 'pandas.core.frame.DataFrame'>\n",
            "Int64Index: 3652 entries, 768 to 4590\n",
            "Data columns (total 6 columns):\n",
            " #   Column  Non-Null Count  Dtype         \n",
            "---  ------  --------------  -----         \n",
            " 0   year    3652 non-null   int64         \n",
            " 1   month   3652 non-null   int64         \n",
            " 2   day     3652 non-null   float64       \n",
            " 3   gender  3652 non-null   object        \n",
            " 4   births  3652 non-null   int64         \n",
            " 5   date    3652 non-null   datetime64[ns]\n",
            "dtypes: datetime64[ns](1), float64(1), int64(3), object(1)\n",
            "memory usage: 199.7+ KB\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "births = births.set_index(\"date\")"
      ],
      "metadata": {
        "id": "WqTl6efvF-pr"
      },
      "id": "WqTl6efvF-pr",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "births.head()"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 237
        },
        "id": "VkpQqxjYGMVl",
        "outputId": "94d9db7b-2648-4a7b-ab84-250b4a4b2bd9"
      },
      "id": "VkpQqxjYGMVl",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "            year  month  day gender  births\n",
              "date                                       \n",
              "1970-01-01  1970      1  1.0      F    4064\n",
              "1970-01-01  1970      1  1.0      M    4308\n",
              "1970-01-02  1970      1  2.0      F    4536\n",
              "1970-01-02  1970      1  2.0      M    4698\n",
              "1970-01-03  1970      1  3.0      F    4398"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-f1cb63b8-bde6-4b3f-b14b-86d7501c276c\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>year</th>\n",
              "      <th>month</th>\n",
              "      <th>day</th>\n",
              "      <th>gender</th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>date</th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1970-01-01</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>1.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4064</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-01-01</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>1.0</td>\n",
              "      <td>M</td>\n",
              "      <td>4308</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-01-02</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>2.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4536</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-01-02</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>2.0</td>\n",
              "      <td>M</td>\n",
              "      <td>4698</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-01-03</th>\n",
              "      <td>1970</td>\n",
              "      <td>1</td>\n",
              "      <td>3.0</td>\n",
              "      <td>F</td>\n",
              "      <td>4398</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f1cb63b8-bde6-4b3f-b14b-86d7501c276c')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-f1cb63b8-bde6-4b3f-b14b-86d7501c276c button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-f1cb63b8-bde6-4b3f-b14b-86d7501c276c');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-b5cebc69-b78a-4a5b-a1e6-c6b92a30043e\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b5cebc69-b78a-4a5b-a1e6-c6b92a30043e')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-b5cebc69-b78a-4a5b-a1e6-c6b92a30043e button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "births",
              "summary": "{\n  \"name\": \"births\",\n  \"rows\": 3652,\n  \"fields\": [\n    {\n      \"column\": \"date\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"1970-01-01 00:00:00\",\n        \"max\": \"1974-12-31 00:00:00\",\n        \"num_unique_values\": 1826,\n        \"samples\": [\n          \"1972-09-25 00:00:00\",\n          \"1974-02-27 00:00:00\",\n          \"1970-10-26 00:00:00\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"year\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1,\n        \"min\": 1970,\n        \"max\": 1974,\n        \"num_unique_values\": 5,\n        \"samples\": [\n          1971,\n          1974,\n          1972\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"month\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 3,\n        \"min\": 1,\n        \"max\": 12,\n        \"num_unique_values\": 12,\n        \"samples\": [\n          11,\n          10,\n          1\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"day\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 8.8005293136882,\n        \"min\": 1.0,\n        \"max\": 31.0,\n        \"num_unique_values\": 31,\n        \"samples\": [\n          28.0,\n          16.0,\n          24.0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"gender\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"M\",\n          \"F\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"births\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 523,\n        \"min\": 3249,\n        \"max\": 6480,\n        \"num_unique_values\": 1543,\n        \"samples\": [\n          5077,\n          3919\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 74
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Resampling our daily data --> monthly data"
      ],
      "metadata": {
        "id": "08DDGOIa8cGP"
      },
      "id": "08DDGOIa8cGP"
    },
    {
      "cell_type": "code",
      "source": [
        "# Inspecting our clean dataset:\n",
        "births_month = births[\"births\"].resample(\"M\").sum()\n",
        "births_month"
      ],
      "metadata": {
        "id": "XRi2uVSX6Pns",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000
        },
        "outputId": "d9a5cd85-d24a-4d9d-a231-bd5c3653db67"
      },
      "id": "XRi2uVSX6Pns",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "date\n",
              "1970-01-31    302140\n",
              "1970-02-28    281182\n",
              "1970-03-31    307208\n",
              "1970-04-30    286924\n",
              "1970-05-31    297996\n",
              "1970-06-30    303162\n",
              "1970-07-31    330226\n",
              "1970-08-31    331114\n",
              "1970-09-30    332192\n",
              "1970-10-31    323886\n",
              "1970-11-30    309302\n",
              "1970-12-31    329274\n",
              "1971-01-31    312806\n",
              "1971-02-28    284012\n",
              "1971-03-31    308294\n",
              "1971-04-30    286268\n",
              "1971-05-31    284890\n",
              "1971-06-30    285474\n",
              "1971-07-31    305496\n",
              "1971-08-31    313086\n",
              "1971-09-30    311434\n",
              "1971-10-31    303204\n",
              "1971-11-30    281728\n",
              "1971-12-31    286382\n",
              "1972-01-31    276520\n",
              "1972-02-29    262834\n",
              "1972-03-31    273629\n",
              "1972-04-30    255047\n",
              "1972-05-31    270265\n",
              "1972-06-30    260193\n",
              "1972-07-31    278252\n",
              "1972-08-31    288546\n",
              "1972-09-30    283014\n",
              "1972-10-31    275879\n",
              "1972-11-30    264613\n",
              "1972-12-31    277071\n",
              "1973-01-31    266429\n",
              "1973-02-28    241643\n",
              "1973-03-31    269482\n",
              "1973-04-30    248052\n",
              "1973-05-31    255253\n",
              "1973-06-30    254765\n",
              "1973-07-31    275896\n",
              "1973-08-31    282143\n",
              "1973-09-30    271575\n",
              "1973-10-31    266378\n",
              "1973-11-30    252726\n",
              "1973-12-31    261328\n",
              "1974-01-31    258269\n",
              "1974-02-28    237270\n",
              "1974-03-31    258821\n",
              "1974-04-30    247269\n",
              "1974-05-31    257755\n",
              "1974-06-30    251314\n",
              "1974-07-31    280557\n",
              "1974-08-31    287472\n",
              "1974-09-30    284643\n",
              "1974-10-31    281265\n",
              "1974-11-30    258906\n",
              "1974-12-31    266765\n",
              "Freq: M, Name: births, dtype: int64"
            ],
            "text/html": [
              "<div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>date</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1970-01-31</th>\n",
              "      <td>302140</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-02-28</th>\n",
              "      <td>281182</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-03-31</th>\n",
              "      <td>307208</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-04-30</th>\n",
              "      <td>286924</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-05-31</th>\n",
              "      <td>297996</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-06-30</th>\n",
              "      <td>303162</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-07-31</th>\n",
              "      <td>330226</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-08-31</th>\n",
              "      <td>331114</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-09-30</th>\n",
              "      <td>332192</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-10-31</th>\n",
              "      <td>323886</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-11-30</th>\n",
              "      <td>309302</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1970-12-31</th>\n",
              "      <td>329274</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-01-31</th>\n",
              "      <td>312806</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-02-28</th>\n",
              "      <td>284012</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-03-31</th>\n",
              "      <td>308294</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-04-30</th>\n",
              "      <td>286268</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-05-31</th>\n",
              "      <td>284890</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-06-30</th>\n",
              "      <td>285474</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-07-31</th>\n",
              "      <td>305496</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-08-31</th>\n",
              "      <td>313086</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-09-30</th>\n",
              "      <td>311434</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-10-31</th>\n",
              "      <td>303204</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-11-30</th>\n",
              "      <td>281728</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1971-12-31</th>\n",
              "      <td>286382</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-01-31</th>\n",
              "      <td>276520</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-02-29</th>\n",
              "      <td>262834</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-03-31</th>\n",
              "      <td>273629</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-04-30</th>\n",
              "      <td>255047</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-05-31</th>\n",
              "      <td>270265</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-06-30</th>\n",
              "      <td>260193</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-07-31</th>\n",
              "      <td>278252</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-08-31</th>\n",
              "      <td>288546</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-09-30</th>\n",
              "      <td>283014</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-10-31</th>\n",
              "      <td>275879</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-11-30</th>\n",
              "      <td>264613</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1972-12-31</th>\n",
              "      <td>277071</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-01-31</th>\n",
              "      <td>266429</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-02-28</th>\n",
              "      <td>241643</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-03-31</th>\n",
              "      <td>269482</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-04-30</th>\n",
              "      <td>248052</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-05-31</th>\n",
              "      <td>255253</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-06-30</th>\n",
              "      <td>254765</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-07-31</th>\n",
              "      <td>275896</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-08-31</th>\n",
              "      <td>282143</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-09-30</th>\n",
              "      <td>271575</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-10-31</th>\n",
              "      <td>266378</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-11-30</th>\n",
              "      <td>252726</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1973-12-31</th>\n",
              "      <td>261328</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-01-31</th>\n",
              "      <td>258269</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-02-28</th>\n",
              "      <td>237270</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-03-31</th>\n",
              "      <td>258821</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-04-30</th>\n",
              "      <td>247269</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-05-31</th>\n",
              "      <td>257755</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-06-30</th>\n",
              "      <td>251314</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-07-31</th>\n",
              "      <td>280557</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-08-31</th>\n",
              "      <td>287472</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-09-30</th>\n",
              "      <td>284643</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-10-31</th>\n",
              "      <td>281265</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-11-30</th>\n",
              "      <td>258906</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1974-12-31</th>\n",
              "      <td>266765</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div><br><label><b>dtype:</b> int64</label>"
            ]
          },
          "metadata": {},
          "execution_count": 80
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# At this point we have our daily data with two entries per day: F and M.\n",
        "# We want to do a monthly analysis for births in general! --> resample(\"M\")\n",
        "# When resampling to months, all the other columns are obsolete as we are doing an aggregation (year,month,day,gender)\n",
        "\n"
      ],
      "metadata": {
        "id": "d9UhHZcj8LxM"
      },
      "id": "d9UhHZcj8LxM",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Plotting our clean dataset:"
      ],
      "metadata": {
        "id": "ew2Mjs1WDqaP"
      },
      "id": "ew2Mjs1WDqaP"
    },
    {
      "cell_type": "code",
      "source": [
        "## Plotting our clean dataset\n",
        "\n",
        "# Setting up the base plot configuration\n",
        "# Shared across all graphs\n",
        "import plotly.express as px\n",
        "import plotly.graph_objects as go\n",
        "\n",
        "title_config = dict(\n",
        "    text='Monthly births in the USA',\n",
        "    x=0.5,\n",
        "    y=0.9,\n",
        "    xanchor='center',\n",
        "    yanchor='bottom'\n",
        ")\n",
        "\n",
        "legend_config = dict(\n",
        "    xanchor='left',\n",
        "    yanchor='top',\n",
        "    x=.8,\n",
        "    y=.92,\n",
        "    traceorder=\"normal\",\n",
        "    font=dict(\n",
        "        family=\"sans-serif\",\n",
        "        size=12,\n",
        "        color=\"black\"\n",
        "    ),\n",
        "    bgcolor='rgba(0,0,0,0)'\n",
        ")\n",
        "\n",
        "layout_config = dict(\n",
        "    autosize=False, width=800, height=800,\n",
        "    title=title_config,\n",
        "    xaxis_title='Month',\n",
        "    yaxis_title='Births',\n",
        "    showlegend=True,\n",
        "    legend=legend_config,\n",
        "    yaxis_range=[220_000,340_000]\n",
        ")\n",
        "\n",
        "layout_config_2 = dict(\n",
        "    title=title_config,\n",
        "    xaxis_title='Month',\n",
        "    yaxis_title='Births',\n",
        "    showlegend=True,\n",
        "    yaxis_range=[220_000,340_000]\n",
        ")"
      ],
      "metadata": {
        "id": "7eYHzG_x6WMu"
      },
      "id": "7eYHzG_x6WMu",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# All data\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=births_month.index,\n",
        "                         y=births_month.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Births\"\n",
        "                         ))\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "qXEQoNlMYACR",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "04245daf-603a-4c25-bc9b-1dea8e342241"
      },
      "id": "qXEQoNlMYACR",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"b533f1b5-dfbe-41ac-8513-73a1f840025b\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"b533f1b5-dfbe-41ac-8513-73a1f840025b\")) {                    Plotly.newPlot(                        \"b533f1b5-dfbe-41ac-8513-73a1f840025b\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071,266429,241643,269482,248052,255253,254765,275896,282143,271575,266378,252726,261328,258269,237270,258821,247269,257755,251314,280557,287472,284643,281265,258906,266765],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('b533f1b5-dfbe-41ac-8513-73a1f840025b');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Splitting our data (Train-Test split)"
      ],
      "metadata": {
        "id": "VK5z-DLyUQHF"
      },
      "id": "VK5z-DLyUQHF"
    },
    {
      "cell_type": "code",
      "source": [
        "from sktime.forecasting.model_selection import temporal_train_test_split\n",
        "\n",
        "#Last 2 years of data as our testing set"
      ],
      "metadata": {
        "id": "e43XWt7m6WfZ"
      },
      "id": "e43XWt7m6WfZ",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Inspecting the split\n",
        "df_train, df_test = temporal_train_test_split(births_month, test_size=24)"
      ],
      "metadata": {
        "id": "IRcGVz59T--g"
      },
      "id": "IRcGVz59T--g",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "df_train.shape, df_test.shape"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "YRdrlHidIu8x",
        "outputId": "95c2ae3b-7986-44bb-cd22-1434b791ad0e"
      },
      "id": "YRdrlHidIu8x",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "((36,), (24,))"
            ]
          },
          "metadata": {},
          "execution_count": 86
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# Plotting our Train-Test split:\n",
        "\n",
        "# Train Test Split\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Births Train\", mode = \"lines\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=df_test.index,\n",
        "                         y=df_test.values ,\n",
        "                         line=dict(color=\"crimson\", width=3),\n",
        "                         name=\"Births Test\", mode = \"lines\"\n",
        "                         ))\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "yYIEnjPRYVYC",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "9794c941-ca60-48ca-ce93-3ebe4a8cf33b"
      },
      "id": "yYIEnjPRYVYC",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"91f3c148-a0f2-45de-8457-ad7056c9b01e\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"91f3c148-a0f2-45de-8457-ad7056c9b01e\")) {                    Plotly.newPlot(                        \"91f3c148-a0f2-45de-8457-ad7056c9b01e\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"mode\":\"lines\",\"name\":\"Births Train\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"crimson\",\"width\":3},\"mode\":\"lines\",\"name\":\"Births Test\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[266429,241643,269482,248052,255253,254765,275896,282143,271575,266378,252726,261328,258269,237270,258821,247269,257755,251314,280557,287472,284643,281265,258906,266765],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('91f3c148-a0f2-45de-8457-ad7056c9b01e');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        " # If we run a Linear Regression to the training dataset:\n",
        "\n",
        " # Linear Regression\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Births\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=['1970-01-31', '1972-12-31'],\n",
        "                         y=[325_000, 265_000],\n",
        "                         line=dict(color=\"mediumseagreen\", width=3, dash='dot'),\n",
        "                         mode='lines',\n",
        "                         name=\"Lin Reg train\",\n",
        "                         showlegend=False\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=['1972-12-31', '1974-12-31'],\n",
        "                         y=[265_000, 225_000],\n",
        "                         line=dict(color=\"mediumseagreen\", width=3),\n",
        "                         mode='lines',\n",
        "                         name=\"Linear\"\n",
        "                         ))\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "X85t404aZ1he",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "3ec50c31-cf63-4785-ed25-11e6b3b06d1c"
      },
      "id": "X85t404aZ1he",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"881036d1-4185-4db6-95e7-717e65c6e17f\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"881036d1-4185-4db6-95e7-717e65c6e17f\")) {                    Plotly.newPlot(                        \"881036d1-4185-4db6-95e7-717e65c6e17f\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"mediumseagreen\",\"dash\":\"dot\",\"width\":3},\"mode\":\"lines\",\"name\":\"Lin Reg train\",\"showlegend\":false,\"x\":[\"1970-01-31\",\"1972-12-31\"],\"y\":[325000,265000],\"type\":\"scatter\"},{\"line\":{\"color\":\"mediumseagreen\",\"width\":3},\"mode\":\"lines\",\"name\":\"Linear\",\"x\":[\"1972-12-31\",\"1974-12-31\"],\"y\":[265000,225000],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('881036d1-4185-4db6-95e7-717e65c6e17f');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Modeling: Seasonal Naive, Holt-Winters (Exponential Smoothing), and AutoARIMA\n",
        "\n",
        "---\n",
        "\n"
      ],
      "metadata": {
        "id": "QZQtI27p5MgH"
      },
      "id": "QZQtI27p5MgH"
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Modeling with the Naive (Seasonal)\n",
        "\n"
      ],
      "metadata": {
        "id": "NA5lVzdHVreJ"
      },
      "id": "NA5lVzdHVreJ"
    },
    {
      "cell_type": "code",
      "source": [
        "df_train.tail(1)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 147
        },
        "id": "RksrgtLlJM_y",
        "outputId": "d7d94af2-3c69-42c4-bf96-11832d1d8ae0"
      },
      "id": "RksrgtLlJM_y",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "date\n",
              "1972-12-31    277071\n",
              "Freq: M, Name: births, dtype: int64"
            ],
            "text/html": [
              "<div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>date</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1972-12-31</th>\n",
              "      <td>277071</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div><br><label><b>dtype:</b> int64</label>"
            ]
          },
          "metadata": {},
          "execution_count": 90
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from sktime.forecasting.naive import NaiveForecaster\n",
        "\n",
        "# Instantiating the model. Yearly seasonailty --> 12 months in a year\n",
        "# Training the model\n",
        "forecaster = NaiveForecaster(sp=12)\n",
        "forecaster.fit(df_train)"
      ],
      "metadata": {
        "id": "UvY3ft21T_2S",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 80
        },
        "outputId": "9ab74454-ab46-40cc-c8f1-6e8e2407c3d6"
      },
      "id": "UvY3ft21T_2S",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "NaiveForecaster(sp=12)"
            ],
            "text/html": [
              "<style>#sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 {\n",
              "    /* Definition of color scheme common for light and dark mode */\n",
              "    --sklearn-color-text: black;\n",
              "    --sklearn-color-line: gray;\n",
              "    /* Definition of color scheme for objects */\n",
              "    --sklearn-color-level-0: #fff5e6;\n",
              "    --sklearn-color-level-1: #f6e4d2;\n",
              "    --sklearn-color-level-2: #ffe0b3;\n",
              "    --sklearn-color-level-3: chocolate;\n",
              "\n",
              "    /* Specific color for light theme */\n",
              "    --sklearn-color-text-on-default-background: var(--theme-code-foreground, var(--jp-content-font-color1, black));\n",
              "    --sklearn-color-background: var(--theme-background, var(--jp-layout-color0, white));\n",
              "    --sklearn-color-border-box: var(--theme-code-foreground, var(--jp-content-font-color1, black));\n",
              "    --sklearn-color-icon: #696969;\n",
              "\n",
              "    @media (prefers-color-scheme: dark) {\n",
              "      /* Redefinition of color scheme for dark theme */\n",
              "      --sklearn-color-text-on-default-background: var(--theme-code-foreground, var(--jp-content-font-color1, white));\n",
              "      --sklearn-color-background: var(--theme-background, var(--jp-layout-color0, #111));\n",
              "      --sklearn-color-border-box: var(--theme-code-foreground, var(--jp-content-font-color1, white));\n",
              "      --sklearn-color-icon: #878787;\n",
              "    }\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 {\n",
              "    color: var(--sklearn-color-text);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 pre {\n",
              "    padding: 0;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 input.sk-hidden--visually {\n",
              "    border: 0;\n",
              "    clip: rect(1px 1px 1px 1px);\n",
              "    clip: rect(1px, 1px, 1px, 1px);\n",
              "    height: 1px;\n",
              "    margin: -1px;\n",
              "    overflow: hidden;\n",
              "    padding: 0;\n",
              "    position: absolute;\n",
              "    width: 1px;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-dashed-wrapped {\n",
              "    border: 1px dashed var(--sklearn-color-line);\n",
              "    margin: 0 0.4em 0.5em 0.4em;\n",
              "    box-sizing: border-box;\n",
              "    padding-bottom: 0.4em;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-container {\n",
              "    /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n",
              "       but bootstrap.min.css set `[hidden] { display: none !important; }`\n",
              "       so we also need the `!important` here to be able to override the\n",
              "       default hidden behavior on the sphinx rendered scikit-learn.org.\n",
              "       See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n",
              "    display: inline-block !important;\n",
              "    position: relative;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-text-repr-fallback {\n",
              "    display: none;\n",
              "  }\n",
              "\n",
              "  div.sk-parallel-item,\n",
              "  div.sk-serial,\n",
              "  div.sk-item {\n",
              "    /* draw centered vertical line to link estimators */\n",
              "    background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n",
              "    background-size: 2px 100%;\n",
              "    background-repeat: no-repeat;\n",
              "    background-position: center center;\n",
              "  }\n",
              "\n",
              "  /* Parallel-specific style estimator block */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel-item::after {\n",
              "    content: \"\";\n",
              "    width: 100%;\n",
              "    border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n",
              "    flex-grow: 1;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel {\n",
              "    display: flex;\n",
              "    align-items: stretch;\n",
              "    justify-content: center;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    position: relative;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel-item {\n",
              "    display: flex;\n",
              "    flex-direction: column;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel-item:first-child::after {\n",
              "    align-self: flex-end;\n",
              "    width: 50%;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel-item:last-child::after {\n",
              "    align-self: flex-start;\n",
              "    width: 50%;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-parallel-item:only-child::after {\n",
              "    width: 0;\n",
              "  }\n",
              "\n",
              "  /* Serial-specific style estimator block */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-serial {\n",
              "    display: flex;\n",
              "    flex-direction: column;\n",
              "    align-items: center;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    padding-right: 1em;\n",
              "    padding-left: 1em;\n",
              "  }\n",
              "\n",
              "\n",
              "  /* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\n",
              "  clickable and can be expanded/collapsed.\n",
              "  - Pipeline and ColumnTransformer use this feature and define the default style\n",
              "  - Estimators will overwrite some part of the style using the `sk-estimator` class\n",
              "  */\n",
              "\n",
              "  /* Pipeline and ColumnTransformer style (default) */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-toggleable {\n",
              "    /* Default theme specific background. It is overwritten whether we have a\n",
              "    specific estimator or a Pipeline/ColumnTransformer */\n",
              "    background-color: var(--sklearn-color-background);\n",
              "  }\n",
              "\n",
              "  /* Toggleable label */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 label.sk-toggleable__label {\n",
              "    cursor: pointer;\n",
              "    display: block;\n",
              "    width: 100%;\n",
              "    margin-bottom: 0;\n",
              "    padding: 0.5em;\n",
              "    box-sizing: border-box;\n",
              "    text-align: center;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 label.sk-toggleable__label-arrow:before {\n",
              "    /* Arrow on the left of the label */\n",
              "    content: \"▸\";\n",
              "    float: left;\n",
              "    margin-right: 0.25em;\n",
              "    color: var(--sklearn-color-icon);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 label.sk-toggleable__label-arrow:hover:before {\n",
              "    color: var(--sklearn-color-text);\n",
              "  }\n",
              "\n",
              "  /* Toggleable content - dropdown */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-toggleable__content {\n",
              "    max-height: 0;\n",
              "    max-width: 0;\n",
              "    overflow: hidden;\n",
              "    text-align: left;\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-toggleable__content pre {\n",
              "    margin: 0.2em;\n",
              "    border-radius: 0.25em;\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n",
              "    /* Expand drop-down */\n",
              "    max-height: 200px;\n",
              "    max-width: 100%;\n",
              "    overflow: auto;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n",
              "    content: \"▾\";\n",
              "  }\n",
              "\n",
              "  /* Pipeline/ColumnTransformer-specific style */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Estimator-specific style */\n",
              "\n",
              "  /* Colorize estimator box */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
              "    /* unfitted */\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label label.sk-toggleable__label,\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label label {\n",
              "    /* The background is the default theme color */\n",
              "    color: var(--sklearn-color-text-on-default-background);\n",
              "  }\n",
              "\n",
              "  /* On hover, darken the color of the background */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label:hover label.sk-toggleable__label {\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Estimator label */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label label {\n",
              "    font-family: monospace;\n",
              "    font-weight: bold;\n",
              "    display: inline-block;\n",
              "    line-height: 1.2em;\n",
              "  }\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-label-container {\n",
              "    text-align: center;\n",
              "  }\n",
              "\n",
              "  /* Estimator-specific */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-estimator {\n",
              "    font-family: monospace;\n",
              "    border: 1px dotted var(--sklearn-color-border-box);\n",
              "    border-radius: 0.25em;\n",
              "    box-sizing: border-box;\n",
              "    margin-bottom: 0.5em;\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  /* on hover */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 div.sk-estimator:hover {\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Specification for estimator info */\n",
              "\n",
              "  .sk-estimator-doc-link,\n",
              "  a:link.sk-estimator-doc-link,\n",
              "  a:visited.sk-estimator-doc-link {\n",
              "    float: right;\n",
              "    font-size: smaller;\n",
              "    line-height: 1em;\n",
              "    font-family: monospace;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    border-radius: 1em;\n",
              "    height: 1em;\n",
              "    width: 1em;\n",
              "    text-decoration: none !important;\n",
              "    margin-left: 1ex;\n",
              "    border: var(--sklearn-color-level-1) 1pt solid;\n",
              "    color: var(--sklearn-color-level-1);\n",
              "  }\n",
              "\n",
              "  /* On hover */\n",
              "  div.sk-estimator:hover .sk-estimator-doc-link:hover,\n",
              "  .sk-estimator-doc-link:hover,\n",
              "  div.sk-label-container:hover .sk-estimator-doc-link:hover,\n",
              "  .sk-estimator-doc-link:hover {\n",
              "    background-color: var(--sklearn-color-level-3);\n",
              "    color: var(--sklearn-color-background);\n",
              "    text-decoration: none;\n",
              "  }\n",
              "\n",
              "  /* Span, style for the box shown on hovering the info icon */\n",
              "  .sk-estimator-doc-link span {\n",
              "    display: none;\n",
              "    z-index: 9999;\n",
              "    position: relative;\n",
              "    font-weight: normal;\n",
              "    right: .2ex;\n",
              "    padding: .5ex;\n",
              "    margin: .5ex;\n",
              "    width: min-content;\n",
              "    min-width: 20ex;\n",
              "    max-width: 50ex;\n",
              "    color: var(--sklearn-color-text);\n",
              "    box-shadow: 2pt 2pt 4pt #999;\n",
              "    background: var(--sklearn-color-level-0);\n",
              "    border: .5pt solid var(--sklearn-color-level-3);\n",
              "  }\n",
              "\n",
              "  .sk-estimator-doc-link:hover span {\n",
              "    display: block;\n",
              "  }\n",
              "\n",
              "  /* \"?\"-specific style due to the `<a>` HTML tag */\n",
              "\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 a.estimator_doc_link {\n",
              "    float: right;\n",
              "    font-size: 1rem;\n",
              "    line-height: 1em;\n",
              "    font-family: monospace;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    border-radius: 1rem;\n",
              "    height: 1rem;\n",
              "    width: 1rem;\n",
              "    text-decoration: none;\n",
              "    color: var(--sklearn-color-level-1);\n",
              "    border: var(--sklearn-color-level-1) 1pt solid;\n",
              "  }\n",
              "\n",
              "  /* On hover */\n",
              "  #sk-3d5182ab-fd1a-4612-a068-7198bedf43f6 a.estimator_doc_link:hover {\n",
              "    background-color: var(--sklearn-color-level-3);\n",
              "    color: var(--sklearn-color-background);\n",
              "    text-decoration: none;\n",
              "  }\n",
              "</style><div id='sk-3d5182ab-fd1a-4612-a068-7198bedf43f6' class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>NaiveForecaster(sp=12)</pre><b>Please rerun this cell to show the HTML repr or trust the notebook.</b></div><div class=\"sk-container\" hidden><div class='sk-item'><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=UUID('ec71fef7-051b-48f0-9218-961e0832e12d') type=\"checkbox\" checked><label for=UUID('ec71fef7-051b-48f0-9218-961e0832e12d') class='sk-toggleable__label sk-toggleable__label-arrow'>NaiveForecaster<a class=\"sk-estimator-doc-link\" rel=\"noreferrer\" target=\"_blank\" href=\"https://www.sktime.net/en/v0.37.0/api_reference/auto_generated/sktime.forecasting.naive.NaiveForecaster.html\">?<span>Documentation for NaiveForecaster</span></a></label><div class=\"sk-toggleable__content\"><pre>NaiveForecaster(sp=12)</pre></div></div></div></div></div>"
            ]
          },
          "metadata": {},
          "execution_count": 93
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# Predicting:\n",
        "seasonal_naive_preds =forecaster.predict(fh=range(1,25))"
      ],
      "metadata": {
        "id": "VIhB1uV8WniS"
      },
      "id": "VIhB1uV8WniS",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Plotting the training, season used, and predictions (1973 - 1974)\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train[:-11].index,\n",
        "                         y=df_train[:-11].values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Train Births\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=df_train[-12:].index,\n",
        "                         y=df_train[-12:].values ,\n",
        "                         line=dict(color=\"royalblue\", width=3, dash='dot'),\n",
        "                         mode='lines',\n",
        "                         name=\"Births\",\n",
        "                         showlegend=False\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=seasonal_naive_preds.index,\n",
        "                         y=seasonal_naive_preds.values ,\n",
        "                         line=dict(color=\"forestgreen\", width=3),\n",
        "                         name=\"Seasonal Naive\",\n",
        "                         mode = \"lines\"\n",
        "                         ))\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "lJSNEepl1UQ-",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "3e7e87ad-a040-4718-8ec5-cbe088984389"
      },
      "id": "lJSNEepl1UQ-",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"89b6b1c1-09b4-4e93-be96-3234f9881c63\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"89b6b1c1-09b4-4e93-be96-3234f9881c63\")) {                    Plotly.newPlot(                        \"89b6b1c1-09b4-4e93-be96-3234f9881c63\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Train Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520],\"type\":\"scatter\"},{\"line\":{\"color\":\"royalblue\",\"dash\":\"dot\",\"width\":3},\"mode\":\"lines\",\"name\":\"Births\",\"showlegend\":false,\"x\":[\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"forestgreen\",\"width\":3},\"mode\":\"lines\",\"name\":\"Seasonal Naive\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\"],\"y\":[276520.0,262834.0,273629.0,255047.0,270265.0,260193.0,278252.0,288546.0,283014.0,275879.0,264613.0,277071.0,276520.0,262834.0,273629.0,255047.0,270265.0,260193.0,278252.0,288546.0,283014.0,275879.0,264613.0,277071.0,276520.0,262834.0,273629.0,255047.0,270265.0,260193.0,278252.0,288546.0,283014.0,275879.0,264613.0,277071.0],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('89b6b1c1-09b4-4e93-be96-3234f9881c63');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "✅ Our Seasonal Naive model uses the 1972 seasonality and predicts for 1973 and 1974 with this information!"
      ],
      "metadata": {
        "id": "m0pcYu7TX27y"
      },
      "id": "m0pcYu7TX27y"
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Modeling with the Holt-Winters (Exponential Smoothing)\n",
        "\n"
      ],
      "metadata": {
        "id": "UsJXdDOND6_k"
      },
      "id": "UsJXdDOND6_k"
    },
    {
      "cell_type": "code",
      "source": [
        "# Similar process with both new models!:\n",
        "from sktime.forecasting.exp_smoothing import ExponentialSmoothing\n",
        "\n",
        "forecaster_hw = ExponentialSmoothing(trend = \"additive\", seasonal= \"additive\", sp = 12)            # Instantiating the model. Additive trend and seasonality.\n",
        "#you can vary between \"additive\" and \"multiplicative\""
      ],
      "metadata": {
        "id": "MRh7UNS9z-YY"
      },
      "id": "MRh7UNS9z-YY",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Predicting:\n",
        "forecaster_hw.fit(df_train)\n",
        "hw_preds = forecaster_hw.predict(fh=range(1,25))"
      ],
      "metadata": {
        "id": "zCiMVMX1EwZ_",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "ef7e4e04-2296-42a7-c716-dfdf6e0c5d90"
      },
      "id": "zCiMVMX1EwZ_",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.11/dist-packages/statsmodels/tsa/holtwinters/model.py:918: ConvergenceWarning:\n",
            "\n",
            "Optimization failed to converge. Check mle_retvals.\n",
            "\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# Plotting the training, season used, and predictions (1973 - 1974)\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Train Births\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=hw_preds.index,\n",
        "                         y=hw_preds.values ,\n",
        "                         line=dict(color=\"darkorange\", width=3),\n",
        "                         name=\"Holt-Winters\",\n",
        "                         mode = \"lines\"\n",
        "                         ))\n",
        "\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "ZVXJxuka0HqO",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "f5ef5caa-3bf8-457f-ab63-8fdb6c5b1cb6"
      },
      "id": "ZVXJxuka0HqO",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"5f6d83d2-a2e2-40a6-9734-fce04e23c710\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"5f6d83d2-a2e2-40a6-9734-fce04e23c710\")) {                    Plotly.newPlot(                        \"5f6d83d2-a2e2-40a6-9734-fce04e23c710\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Train Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkorange\",\"width\":3},\"mode\":\"lines\",\"name\":\"Holt-Winters\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[264380.17799113516,244145.30911941695,262631.14119963173,243386.21344961142,251272.5781041349,247582.73043046045,273733.7182988116,277925.02227739454,277754.03210345167,269884.9483490094,252132.41766104958,264952.597975243,252799.39248433616,232564.52361261795,251050.3556928328,231805.4279428124,239691.79259733594,236001.94492366145,262152.9327920126,266344.23677059554,266173.24659665267,258304.16284221038,240551.63215425058,253371.81246844403],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('5f6d83d2-a2e2-40a6-9734-fce04e23c710');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "✅ Our Holt-Winters model now also consider the trend of the Time-Series!"
      ],
      "metadata": {
        "id": "DR6dO8j4XbZ9"
      },
      "id": "DR6dO8j4XbZ9"
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Modeling with AutoARIMA:\n",
        "\n",
        "\n",
        "\n"
      ],
      "metadata": {
        "id": "zCXjOZsCbwDI"
      },
      "id": "zCXjOZsCbwDI"
    },
    {
      "cell_type": "code",
      "source": [
        "# Similar process with both new models!:\n",
        "from sktime.forecasting.arima import AutoARIMA\n",
        "\n"
      ],
      "metadata": {
        "id": "r9e8JIWhbikB"
      },
      "id": "r9e8JIWhbikB",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Predicting:\n",
        "forecaster_ARIMA = AutoARIMA(sp=12, seasonal=True)\n",
        "forecaster_ARIMA.fit(df_train)"
      ],
      "metadata": {
        "id": "x7C1NUbVhH6F",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 80
        },
        "outputId": "1bb6c835-435c-4203-ebe3-5676a20de0e7"
      },
      "id": "x7C1NUbVhH6F",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "AutoARIMA(sp=12)"
            ],
            "text/html": [
              "<style>#sk-52a360da-1224-4a97-a857-3ed8cd8beb4c {\n",
              "    /* Definition of color scheme common for light and dark mode */\n",
              "    --sklearn-color-text: black;\n",
              "    --sklearn-color-line: gray;\n",
              "    /* Definition of color scheme for objects */\n",
              "    --sklearn-color-level-0: #fff5e6;\n",
              "    --sklearn-color-level-1: #f6e4d2;\n",
              "    --sklearn-color-level-2: #ffe0b3;\n",
              "    --sklearn-color-level-3: chocolate;\n",
              "\n",
              "    /* Specific color for light theme */\n",
              "    --sklearn-color-text-on-default-background: var(--theme-code-foreground, var(--jp-content-font-color1, black));\n",
              "    --sklearn-color-background: var(--theme-background, var(--jp-layout-color0, white));\n",
              "    --sklearn-color-border-box: var(--theme-code-foreground, var(--jp-content-font-color1, black));\n",
              "    --sklearn-color-icon: #696969;\n",
              "\n",
              "    @media (prefers-color-scheme: dark) {\n",
              "      /* Redefinition of color scheme for dark theme */\n",
              "      --sklearn-color-text-on-default-background: var(--theme-code-foreground, var(--jp-content-font-color1, white));\n",
              "      --sklearn-color-background: var(--theme-background, var(--jp-layout-color0, #111));\n",
              "      --sklearn-color-border-box: var(--theme-code-foreground, var(--jp-content-font-color1, white));\n",
              "      --sklearn-color-icon: #878787;\n",
              "    }\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c {\n",
              "    color: var(--sklearn-color-text);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c pre {\n",
              "    padding: 0;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c input.sk-hidden--visually {\n",
              "    border: 0;\n",
              "    clip: rect(1px 1px 1px 1px);\n",
              "    clip: rect(1px, 1px, 1px, 1px);\n",
              "    height: 1px;\n",
              "    margin: -1px;\n",
              "    overflow: hidden;\n",
              "    padding: 0;\n",
              "    position: absolute;\n",
              "    width: 1px;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-dashed-wrapped {\n",
              "    border: 1px dashed var(--sklearn-color-line);\n",
              "    margin: 0 0.4em 0.5em 0.4em;\n",
              "    box-sizing: border-box;\n",
              "    padding-bottom: 0.4em;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-container {\n",
              "    /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n",
              "       but bootstrap.min.css set `[hidden] { display: none !important; }`\n",
              "       so we also need the `!important` here to be able to override the\n",
              "       default hidden behavior on the sphinx rendered scikit-learn.org.\n",
              "       See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n",
              "    display: inline-block !important;\n",
              "    position: relative;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-text-repr-fallback {\n",
              "    display: none;\n",
              "  }\n",
              "\n",
              "  div.sk-parallel-item,\n",
              "  div.sk-serial,\n",
              "  div.sk-item {\n",
              "    /* draw centered vertical line to link estimators */\n",
              "    background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n",
              "    background-size: 2px 100%;\n",
              "    background-repeat: no-repeat;\n",
              "    background-position: center center;\n",
              "  }\n",
              "\n",
              "  /* Parallel-specific style estimator block */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel-item::after {\n",
              "    content: \"\";\n",
              "    width: 100%;\n",
              "    border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n",
              "    flex-grow: 1;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel {\n",
              "    display: flex;\n",
              "    align-items: stretch;\n",
              "    justify-content: center;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    position: relative;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel-item {\n",
              "    display: flex;\n",
              "    flex-direction: column;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel-item:first-child::after {\n",
              "    align-self: flex-end;\n",
              "    width: 50%;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel-item:last-child::after {\n",
              "    align-self: flex-start;\n",
              "    width: 50%;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-parallel-item:only-child::after {\n",
              "    width: 0;\n",
              "  }\n",
              "\n",
              "  /* Serial-specific style estimator block */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-serial {\n",
              "    display: flex;\n",
              "    flex-direction: column;\n",
              "    align-items: center;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    padding-right: 1em;\n",
              "    padding-left: 1em;\n",
              "  }\n",
              "\n",
              "\n",
              "  /* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\n",
              "  clickable and can be expanded/collapsed.\n",
              "  - Pipeline and ColumnTransformer use this feature and define the default style\n",
              "  - Estimators will overwrite some part of the style using the `sk-estimator` class\n",
              "  */\n",
              "\n",
              "  /* Pipeline and ColumnTransformer style (default) */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-toggleable {\n",
              "    /* Default theme specific background. It is overwritten whether we have a\n",
              "    specific estimator or a Pipeline/ColumnTransformer */\n",
              "    background-color: var(--sklearn-color-background);\n",
              "  }\n",
              "\n",
              "  /* Toggleable label */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c label.sk-toggleable__label {\n",
              "    cursor: pointer;\n",
              "    display: block;\n",
              "    width: 100%;\n",
              "    margin-bottom: 0;\n",
              "    padding: 0.5em;\n",
              "    box-sizing: border-box;\n",
              "    text-align: center;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c label.sk-toggleable__label-arrow:before {\n",
              "    /* Arrow on the left of the label */\n",
              "    content: \"▸\";\n",
              "    float: left;\n",
              "    margin-right: 0.25em;\n",
              "    color: var(--sklearn-color-icon);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c label.sk-toggleable__label-arrow:hover:before {\n",
              "    color: var(--sklearn-color-text);\n",
              "  }\n",
              "\n",
              "  /* Toggleable content - dropdown */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-toggleable__content {\n",
              "    max-height: 0;\n",
              "    max-width: 0;\n",
              "    overflow: hidden;\n",
              "    text-align: left;\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-toggleable__content pre {\n",
              "    margin: 0.2em;\n",
              "    border-radius: 0.25em;\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c input.sk-toggleable__control:checked~div.sk-toggleable__content {\n",
              "    /* Expand drop-down */\n",
              "    max-height: 200px;\n",
              "    max-width: 100%;\n",
              "    overflow: auto;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n",
              "    content: \"▾\";\n",
              "  }\n",
              "\n",
              "  /* Pipeline/ColumnTransformer-specific style */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Estimator-specific style */\n",
              "\n",
              "  /* Colorize estimator box */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
              "    /* unfitted */\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label label.sk-toggleable__label,\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label label {\n",
              "    /* The background is the default theme color */\n",
              "    color: var(--sklearn-color-text-on-default-background);\n",
              "  }\n",
              "\n",
              "  /* On hover, darken the color of the background */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label:hover label.sk-toggleable__label {\n",
              "    color: var(--sklearn-color-text);\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Estimator label */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label label {\n",
              "    font-family: monospace;\n",
              "    font-weight: bold;\n",
              "    display: inline-block;\n",
              "    line-height: 1.2em;\n",
              "  }\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-label-container {\n",
              "    text-align: center;\n",
              "  }\n",
              "\n",
              "  /* Estimator-specific */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-estimator {\n",
              "    font-family: monospace;\n",
              "    border: 1px dotted var(--sklearn-color-border-box);\n",
              "    border-radius: 0.25em;\n",
              "    box-sizing: border-box;\n",
              "    margin-bottom: 0.5em;\n",
              "    background-color: var(--sklearn-color-level-0);\n",
              "  }\n",
              "\n",
              "  /* on hover */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c div.sk-estimator:hover {\n",
              "    background-color: var(--sklearn-color-level-2);\n",
              "  }\n",
              "\n",
              "  /* Specification for estimator info */\n",
              "\n",
              "  .sk-estimator-doc-link,\n",
              "  a:link.sk-estimator-doc-link,\n",
              "  a:visited.sk-estimator-doc-link {\n",
              "    float: right;\n",
              "    font-size: smaller;\n",
              "    line-height: 1em;\n",
              "    font-family: monospace;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    border-radius: 1em;\n",
              "    height: 1em;\n",
              "    width: 1em;\n",
              "    text-decoration: none !important;\n",
              "    margin-left: 1ex;\n",
              "    border: var(--sklearn-color-level-1) 1pt solid;\n",
              "    color: var(--sklearn-color-level-1);\n",
              "  }\n",
              "\n",
              "  /* On hover */\n",
              "  div.sk-estimator:hover .sk-estimator-doc-link:hover,\n",
              "  .sk-estimator-doc-link:hover,\n",
              "  div.sk-label-container:hover .sk-estimator-doc-link:hover,\n",
              "  .sk-estimator-doc-link:hover {\n",
              "    background-color: var(--sklearn-color-level-3);\n",
              "    color: var(--sklearn-color-background);\n",
              "    text-decoration: none;\n",
              "  }\n",
              "\n",
              "  /* Span, style for the box shown on hovering the info icon */\n",
              "  .sk-estimator-doc-link span {\n",
              "    display: none;\n",
              "    z-index: 9999;\n",
              "    position: relative;\n",
              "    font-weight: normal;\n",
              "    right: .2ex;\n",
              "    padding: .5ex;\n",
              "    margin: .5ex;\n",
              "    width: min-content;\n",
              "    min-width: 20ex;\n",
              "    max-width: 50ex;\n",
              "    color: var(--sklearn-color-text);\n",
              "    box-shadow: 2pt 2pt 4pt #999;\n",
              "    background: var(--sklearn-color-level-0);\n",
              "    border: .5pt solid var(--sklearn-color-level-3);\n",
              "  }\n",
              "\n",
              "  .sk-estimator-doc-link:hover span {\n",
              "    display: block;\n",
              "  }\n",
              "\n",
              "  /* \"?\"-specific style due to the `<a>` HTML tag */\n",
              "\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c a.estimator_doc_link {\n",
              "    float: right;\n",
              "    font-size: 1rem;\n",
              "    line-height: 1em;\n",
              "    font-family: monospace;\n",
              "    background-color: var(--sklearn-color-background);\n",
              "    border-radius: 1rem;\n",
              "    height: 1rem;\n",
              "    width: 1rem;\n",
              "    text-decoration: none;\n",
              "    color: var(--sklearn-color-level-1);\n",
              "    border: var(--sklearn-color-level-1) 1pt solid;\n",
              "  }\n",
              "\n",
              "  /* On hover */\n",
              "  #sk-52a360da-1224-4a97-a857-3ed8cd8beb4c a.estimator_doc_link:hover {\n",
              "    background-color: var(--sklearn-color-level-3);\n",
              "    color: var(--sklearn-color-background);\n",
              "    text-decoration: none;\n",
              "  }\n",
              "</style><div id='sk-52a360da-1224-4a97-a857-3ed8cd8beb4c' class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>AutoARIMA(sp=12)</pre><b>Please rerun this cell to show the HTML repr or trust the notebook.</b></div><div class=\"sk-container\" hidden><div class='sk-item'><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=UUID('0f243408-6360-4ea0-a2ae-f20848f325e7') type=\"checkbox\" checked><label for=UUID('0f243408-6360-4ea0-a2ae-f20848f325e7') class='sk-toggleable__label sk-toggleable__label-arrow'>AutoARIMA<a class=\"sk-estimator-doc-link\" rel=\"noreferrer\" target=\"_blank\" href=\"https://www.sktime.net/en/v0.37.0/api_reference/auto_generated/sktime.forecasting.arima.AutoARIMA.html\">?<span>Documentation for AutoARIMA</span></a></label><div class=\"sk-toggleable__content\"><pre>AutoARIMA(sp=12)</pre></div></div></div></div></div>"
            ]
          },
          "metadata": {},
          "execution_count": 105
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "arima_preds = forecaster_ARIMA.predict(fh=range(1,25))"
      ],
      "metadata": {
        "id": "qf2U70EkLuEg"
      },
      "id": "qf2U70EkLuEg",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Plotting the training, season used, and predictions (1973 - 1974)\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Train Births\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=arima_preds.index,\n",
        "                         y=arima_preds.values ,\n",
        "                         line=dict(color=\"darkviolet\", width=3),\n",
        "                         name=\"AutoArima\",\n",
        "                         mode = \"lines\"\n",
        "                         ))\n",
        "\n",
        "fig.update_layout(**layout_config)"
      ],
      "metadata": {
        "id": "epHu9vIVojJR",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 817
        },
        "outputId": "24e07ed0-f26b-4e23-9e6a-fa40b38a3c89"
      },
      "id": "epHu9vIVojJR",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"170e6936-a2a8-4421-ad08-583f4859087e\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"170e6936-a2a8-4421-ad08-583f4859087e\")) {                    Plotly.newPlot(                        \"170e6936-a2a8-4421-ad08-583f4859087e\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Train Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkviolet\",\"width\":3},\"mode\":\"lines\",\"name\":\"AutoArima\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[275718.37223161344,276678.02407818945,275997.1777373404,276480.2193127841,276137.51472643623,276380.6541154132,276208.1534695885,276330.5378883992,276243.70954120066,276305.3118427885,276261.60672017175,276292.6142912155,276270.61528047104,276286.2229678017,276275.1497469809,276283.00588971033,276277.432174566,276281.38657070923,276278.58103643765,276280.571485109,276279.1593170406,276280.1612110769,276279.45039507526,276279.95469929295],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"legend\":{\"font\":{\"family\":\"sans-serif\",\"size\":12,\"color\":\"black\"},\"xanchor\":\"left\",\"yanchor\":\"top\",\"x\":0.8,\"y\":0.92,\"traceorder\":\"normal\",\"bgcolor\":\"rgba(0,0,0,0)\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"autosize\":false,\"width\":800,\"height\":800,\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('170e6936-a2a8-4421-ad08-583f4859087e');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "📈 It looks like the AutoArima is not doing too well... but let evaluate this models with some metrics:"
      ],
      "metadata": {
        "id": "OgFdx84qXZcB"
      },
      "id": "OgFdx84qXZcB"
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Model Evualation: Comparison between Seasonal Naive and AutoARIMA"
      ],
      "metadata": {
        "id": "LlD9g3O34eAb"
      },
      "id": "LlD9g3O34eAb"
    },
    {
      "cell_type": "code",
      "source": [
        "from sktime.performance_metrics.forecasting import mean_absolute_error, mean_absolute_percentage_error, mean_absolute_scaled_error"
      ],
      "metadata": {
        "id": "1DggF6BJ4wfM"
      },
      "id": "1DggF6BJ4wfM",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "source": [
        "### MAE: Mean Absolute Error"
      ],
      "metadata": {
        "id": "5uu9XIN_5UHU"
      },
      "id": "5uu9XIN_5UHU"
    },
    {
      "cell_type": "code",
      "source": [
        "MAE_Naive = mean_absolute_error(df_test, seasonal_naive_preds)\n",
        "MAE_HW = mean_absolute_error(df_test, hw_preds)\n",
        "MAE_ARIMA = mean_absolute_error(df_test, arima_preds)"
      ],
      "metadata": {
        "id": "1DX2deZNPG6G"
      },
      "id": "1DX2deZNPG6G",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Comparing metrics for both models:\n",
        "\n",
        "\n",
        "\n",
        "print(f\"Seasonal Naive MAE: {MAE_Naive}\")\n",
        "print(f\"Holt-Winters MAE: {MAE_HW}\")\n",
        "print(f\"AutoARIMA MAE: {MAE_ARIMA}\")"
      ],
      "metadata": {
        "id": "8lXB1RSYojD3",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "766bda8d-5d63-4f4d-8c0f-5d5a69ef811c"
      },
      "id": "8lXB1RSYojD3",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Seasonal Naive MAE: 9766.25\n",
            "Holt-Winters MAE: 9458.726135713716\n",
            "AutoARIMA MAE: 15986.315202220241\n"
          ]
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "### MAPE: Mean Absolute Percentage Error"
      ],
      "metadata": {
        "id": "NfWTicEG5oHM"
      },
      "id": "NfWTicEG5oHM"
    },
    {
      "cell_type": "markdown",
      "source": [],
      "metadata": {
        "id": "7xOU061OQMea"
      },
      "id": "7xOU061OQMea"
    },
    {
      "cell_type": "code",
      "source": [
        "MAPE_Naive = mean_absolute_percentage_error(df_test, seasonal_naive_preds)\n",
        "MAPE_HW = mean_absolute_percentage_error(df_test, hw_preds)\n",
        "MAPE_ARIMA = mean_absolute_percentage_error(df_test, arima_preds)"
      ],
      "metadata": {
        "id": "LkIUYhk2QGot"
      },
      "id": "LkIUYhk2QGot",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Comparing metrics for both models:\n",
        "\n",
        "\n",
        "\n",
        "print(f\"Seasonal Naive MAPE: {MAPE_Naive}\")\n",
        "print(f\"Holt-Winters MAPE: {MAPE_HW}\")\n",
        "print(f\"AutoARIMA MAPE: {MAPE_ARIMA}\")"
      ],
      "metadata": {
        "id": "gUG4MzXj4Qff",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "c3321b11-dade-440b-fb8d-d3f854a6468a"
      },
      "id": "gUG4MzXj4Qff",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Seasonal Naive MAPE: 0.03808412641829547\n",
            "Holt-Winters MAPE: 0.03551154179407158\n",
            "AutoARIMA MAPE: 0.06275258922491399\n"
          ]
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "### MASE: Mean Absolute Scaled Error"
      ],
      "metadata": {
        "id": "n1Vvh6Hw5_TM"
      },
      "id": "n1Vvh6Hw5_TM"
    },
    {
      "cell_type": "code",
      "source": [
        "df_train.tail(1)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 147
        },
        "id": "CQGl4dt4RVj5",
        "outputId": "4a02fc49-fee0-49d8-b361-a4a3e11f8853"
      },
      "id": "CQGl4dt4RVj5",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "date\n",
              "1972-12-31    277071\n",
              "Freq: M, Name: births, dtype: int64"
            ],
            "text/html": [
              "<div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>date</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1972-12-31</th>\n",
              "      <td>277071</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div><br><label><b>dtype:</b> int64</label>"
            ]
          },
          "metadata": {},
          "execution_count": 122
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "#MASE = MAE_model (abs(ytrue-ypred).mean())  /  MAE_baseline --> abs(ytrue - 277071).mean()"
      ],
      "metadata": {
        "id": "DjS-RgeYRdN_"
      },
      "id": "DjS-RgeYRdN_",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "source": [],
      "metadata": {
        "id": "ih-hWmjXSDtd"
      },
      "id": "ih-hWmjXSDtd"
    },
    {
      "cell_type": "code",
      "source": [
        "MASE_Naive = mean_absolute_scaled_error(y_true = df_test, y_pred = seasonal_naive_preds, y_train=df_train, sp=12)\n",
        "MASE_HW = mean_absolute_scaled_error(y_true = df_test, y_pred = hw_preds, y_train=df_train, sp=12)\n",
        "MASE_ARIMA = mean_absolute_scaled_error(y_true = df_test, y_pred = arima_preds, y_train=df_train, sp=12)"
      ],
      "metadata": {
        "id": "4fr-eg3TQ0SB"
      },
      "id": "4fr-eg3TQ0SB",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "# Comparing metrics for both models:\n",
        "\n",
        "\n",
        "\n",
        "print(f\"Seasonal Naive MASE: {MASE_Naive}\")\n",
        "print(f\"Holt-Winters MASE: {MASE_HW}\")\n",
        "print(f\"AutoARIMA MASE: {MASE_ARIMA}\")"
      ],
      "metadata": {
        "id": "6Jp_Mb5f5_TO",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "bd2afcd9-d7e8-4c0d-f678-57f733510140"
      },
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Seasonal Naive MASE: 0.4707505618519121\n",
            "Holt-Winters MASE: 0.4559273664703031\n",
            "AutoARIMA MASE: 0.7705687304120765\n"
          ]
        }
      ],
      "id": "6Jp_Mb5f5_TO"
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Plotting both models predictions vs testing data:"
      ],
      "metadata": {
        "id": "fAtijn7A6_f7"
      },
      "id": "fAtijn7A6_f7"
    },
    {
      "cell_type": "code",
      "source": [
        "import plotly.graph_objects as go\n",
        "from plotly.subplots import make_subplots\n",
        "\n",
        "# Creating subplots\n",
        "fig = go.Figure()\n",
        "\n",
        "# Plotting the Seasonal Naive results (First subplot)\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Train Births\"))\n",
        "\n",
        "fig.add_trace(go.Scatter(x=df_test.index,\n",
        "                         y=df_test.values,\n",
        "                         line=dict(color=\"crimson\", width=3),\n",
        "                         name=\"Test Births\",\n",
        "                         mode=\"lines\"))\n",
        "\n",
        "fig.add_trace(go.Scatter(x=seasonal_naive_preds.index,\n",
        "                         y=seasonal_naive_preds.values,\n",
        "                         line=dict(color=\"darkorange\", width=3, dash='dot'),\n",
        "                         name=\"Seasonal Naive\",\n",
        "                         mode=\"lines\"))\n",
        "\n",
        "fig.add_trace(go.Scatter(x=hw_preds.index,\n",
        "                         y=hw_preds.values,\n",
        "                         line=dict(color=\"darkcyan\", width=3, dash='dot'),\n",
        "                         name=\"Holt-Winters\",\n",
        "                         mode=\"lines\"))\n",
        "\n",
        "fig.add_trace(go.Scatter(x=arima_preds.index,\n",
        "                         y=arima_preds.values,\n",
        "                         line=dict(color=\"darkviolet\", width=3, dash='dot'),\n",
        "                         name=\"AutoArima\",\n",
        "                         mode=\"lines\"))\n",
        "\n",
        "fig.update_layout(**layout_config_2,\n",
        "    width=1200,\n",
        "    height=600\n",
        ")\n",
        "\n",
        "\n",
        "fig.show()"
      ],
      "metadata": {
        "id": "qABUyGHJ12KR",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 617
        },
        "outputId": "35ab4f66-e5cd-4b46-b3ed-b7caa4688d37"
      },
      "id": "qABUyGHJ12KR",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"053adb17-3ea2-4d11-bf2d-6f75c4f9ed94\" class=\"plotly-graph-div\" style=\"height:600px; width:1200px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"053adb17-3ea2-4d11-bf2d-6f75c4f9ed94\")) {                    Plotly.newPlot(                        \"053adb17-3ea2-4d11-bf2d-6f75c4f9ed94\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Train Births\",\"x\":[\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\"],\"y\":[302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071],\"type\":\"scatter\"},{\"line\":{\"color\":\"crimson\",\"width\":3},\"mode\":\"lines\",\"name\":\"Test Births\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[266429,241643,269482,248052,255253,254765,275896,282143,271575,266378,252726,261328,258269,237270,258821,247269,257755,251314,280557,287472,284643,281265,258906,266765],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkorange\",\"dash\":\"dot\",\"width\":3},\"mode\":\"lines\",\"name\":\"Seasonal Naive\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[276520.0,262834.0,273629.0,255047.0,270265.0,260193.0,278252.0,288546.0,283014.0,275879.0,264613.0,277071.0,276520.0,262834.0,273629.0,255047.0,270265.0,260193.0,278252.0,288546.0,283014.0,275879.0,264613.0,277071.0],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkcyan\",\"dash\":\"dot\",\"width\":3},\"mode\":\"lines\",\"name\":\"Holt-Winters\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[264380.17799113516,244145.30911941695,262631.14119963173,243386.21344961142,251272.5781041349,247582.73043046045,273733.7182988116,277925.02227739454,277754.03210345167,269884.9483490094,252132.41766104958,264952.597975243,252799.39248433616,232564.52361261795,251050.3556928328,231805.4279428124,239691.79259733594,236001.94492366145,262152.9327920126,266344.23677059554,266173.24659665267,258304.16284221038,240551.63215425058,253371.81246844403],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkviolet\",\"dash\":\"dot\",\"width\":3},\"mode\":\"lines\",\"name\":\"AutoArima\",\"x\":[\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\"],\"y\":[275718.37223161344,276678.02407818945,275997.1777373404,276480.2193127841,276137.51472643623,276380.6541154132,276208.1534695885,276330.5378883992,276243.70954120066,276305.3118427885,276261.60672017175,276292.6142912155,276270.61528047104,276286.2229678017,276275.1497469809,276283.00588971033,276277.432174566,276281.38657070923,276278.58103643765,276280.571485109,276279.1593170406,276280.1612110769,276279.45039507526,276279.95469929295],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true,\"width\":1200,\"height\":600},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('053adb17-3ea2-4d11-bf2d-6f75c4f9ed94');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "🫣 The **AutoARIMA** model is performing worst than the **Seasonal Naive** and the **Holt-Winters** models. But how is this possible if the **AutoARIMA** ia a more sophisticated model?\n",
        "\n",
        "🤓💡 Our training dataset is limited, containing only 3 years of monthly data. **AutoARIMA** (and in general Time Series models) benefits from larger datasets because:\n",
        "\n",
        "- **Better Accuracy:** More data helps models find patterns more accurately, leading to better predictions.\n",
        "\n",
        "- **Reduced Overfitting:** Larger datasets help the model generalize better and avoid memorizing the data, making it more reliable for new data.\n",
        "\n",
        "- **Capturing Rare Events:** Bigger datasets are more likely to include rare but important events, helping the model understand how they impact the system.\n"
      ],
      "metadata": {
        "id": "rcZZrifGKUW-"
      },
      "id": "rcZZrifGKUW-"
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Let's try with more years of data: 1969 - 1984\n",
        "\n"
      ],
      "metadata": {
        "id": "dz7gWj60Mwm4"
      },
      "id": "dz7gWj60Mwm4"
    },
    {
      "cell_type": "markdown",
      "source": [
        "We will do all the process we did before on the next cell for an AutoARIMA model with the full dataset!:\n",
        "- Get the dataset\n",
        "- Clean the dataset\n",
        "- Create the datetime column and reindexing\n",
        "- Resample to Months\n",
        "- Train - Test Split (2 years of testing data)\n",
        "- Run the AutoARIMA\n",
        "- Plot AutoARIMA results\n"
      ],
      "metadata": {
        "id": "2zicTeDZN3k_"
      },
      "id": "2zicTeDZN3k_"
    },
    {
      "cell_type": "code",
      "source": [
        "# Source: https://www.kaggle.com/code/milanpatra/us-birthsdata-analysis/data\n",
        "\n",
        "url = \"https://wagon-public-datasets.s3.amazonaws.com/data-analytics/machine-learning/births.csv\"\n",
        "births = pd.read_csv(url)\n",
        "births = births[births['year'].isin([1969,1970, 1971, 1972, 1973, 1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984])]\n",
        "\n",
        "# Cleaning:\n",
        "births.dropna(inplace = True)\n",
        "births.day = births.day.astype(int)\n",
        "\n",
        "# Datetime column and reindexing:\n",
        "births['date'] = pd.to_datetime(births[['year', 'month', 'day']], errors='coerce')\n",
        "births = births.dropna()\n",
        "births = births.set_index('date')\n",
        "\n",
        "\n",
        "# Resampling:\n",
        "births_month = births['births'].resample('M').sum()\n",
        "\n",
        "# Train - Test split:\n",
        "df_train, df_test = temporal_train_test_split(births_month, test_size = 24)\n",
        "\n",
        "## AutoARIMA Model:\n",
        "\n",
        "forecaster_ARIMA_2 = AutoARIMA(sp = 12, seasonal= True, maxiter = 5000)\n",
        "forecaster_ARIMA_2.fit(df_train)\n",
        "\n",
        "## Predicting:\n",
        "horizon = np.arange(1,24+1)\n",
        "arima_preds = forecaster_ARIMA_2.predict(fh = horizon)\n",
        "\n",
        "\n",
        "# Plotting the model results:\n",
        "fig = go.Figure()\n",
        "fig.add_trace(go.Scatter(x=df_train.index,\n",
        "                         y=df_train.values ,\n",
        "                         line=dict(color=\"royalblue\", width=3),\n",
        "                         name=\"Train Births\"\n",
        "                         ))\n",
        "fig.add_trace(go.Scatter(x=df_test.index,\n",
        "                         y=df_test.values,\n",
        "                         line=dict(color=\"crimson\", width=3),\n",
        "                         name=\"Test Births\",\n",
        "                         mode=\"lines\"))\n",
        "fig.add_trace(go.Scatter(x=arima_preds.index,\n",
        "                         y=arima_preds.values,\n",
        "                         line=dict(color=\"darkviolet\", width=3),\n",
        "                         name=\"AutoArima\",\n",
        "                         mode=\"lines\")\n",
        "                      )\n",
        "\n",
        "fig.update_layout(**layout_config_2,\n",
        "    width=1200,\n",
        "    height=600\n",
        ")\n",
        "\n",
        "fig.show()"
      ],
      "metadata": {
        "id": "0gO_8UUu7ZW_",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 617
        },
        "outputId": "240b6411-debc-4f90-84a8-7b5060ecf613"
      },
      "id": "0gO_8UUu7ZW_",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"a58f4757-558e-4f6f-b7e6-efd3a5e3b85c\" class=\"plotly-graph-div\" style=\"height:600px; width:1200px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"a58f4757-558e-4f6f-b7e6-efd3a5e3b85c\")) {                    Plotly.newPlot(                        \"a58f4757-558e-4f6f-b7e6-efd3a5e3b85c\",                        [{\"line\":{\"color\":\"royalblue\",\"width\":3},\"name\":\"Train Births\",\"x\":[\"1969-01-31T00:00:00\",\"1969-02-28T00:00:00\",\"1969-03-31T00:00:00\",\"1969-04-30T00:00:00\",\"1969-05-31T00:00:00\",\"1969-06-30T00:00:00\",\"1969-07-31T00:00:00\",\"1969-08-31T00:00:00\",\"1969-09-30T00:00:00\",\"1969-10-31T00:00:00\",\"1969-11-30T00:00:00\",\"1969-12-31T00:00:00\",\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\",\"1976-01-31T00:00:00\",\"1976-02-29T00:00:00\",\"1976-03-31T00:00:00\",\"1976-04-30T00:00:00\",\"1976-05-31T00:00:00\",\"1976-06-30T00:00:00\",\"1976-07-31T00:00:00\",\"1976-08-31T00:00:00\",\"1976-09-30T00:00:00\",\"1976-10-31T00:00:00\",\"1976-11-30T00:00:00\",\"1976-12-31T00:00:00\",\"1977-01-31T00:00:00\",\"1977-02-28T00:00:00\",\"1977-03-31T00:00:00\",\"1977-04-30T00:00:00\",\"1977-05-31T00:00:00\",\"1977-06-30T00:00:00\",\"1977-07-31T00:00:00\",\"1977-08-31T00:00:00\",\"1977-09-30T00:00:00\",\"1977-10-31T00:00:00\",\"1977-11-30T00:00:00\",\"1977-12-31T00:00:00\",\"1978-01-31T00:00:00\",\"1978-02-28T00:00:00\",\"1978-03-31T00:00:00\",\"1978-04-30T00:00:00\",\"1978-05-31T00:00:00\",\"1978-06-30T00:00:00\",\"1978-07-31T00:00:00\",\"1978-08-31T00:00:00\",\"1978-09-30T00:00:00\",\"1978-10-31T00:00:00\",\"1978-11-30T00:00:00\",\"1978-12-31T00:00:00\",\"1979-01-31T00:00:00\",\"1979-02-28T00:00:00\",\"1979-03-31T00:00:00\",\"1979-04-30T00:00:00\",\"1979-05-31T00:00:00\",\"1979-06-30T00:00:00\",\"1979-07-31T00:00:00\",\"1979-08-31T00:00:00\",\"1979-09-30T00:00:00\",\"1979-10-31T00:00:00\",\"1979-11-30T00:00:00\",\"1979-12-31T00:00:00\",\"1980-01-31T00:00:00\",\"1980-02-29T00:00:00\",\"1980-03-31T00:00:00\",\"1980-04-30T00:00:00\",\"1980-05-31T00:00:00\",\"1980-06-30T00:00:00\",\"1980-07-31T00:00:00\",\"1980-08-31T00:00:00\",\"1980-09-30T00:00:00\",\"1980-10-31T00:00:00\",\"1980-11-30T00:00:00\",\"1980-12-31T00:00:00\",\"1981-01-31T00:00:00\",\"1981-02-28T00:00:00\",\"1981-03-31T00:00:00\",\"1981-04-30T00:00:00\",\"1981-05-31T00:00:00\",\"1981-06-30T00:00:00\",\"1981-07-31T00:00:00\",\"1981-08-31T00:00:00\",\"1981-09-30T00:00:00\",\"1981-10-31T00:00:00\",\"1981-11-30T00:00:00\",\"1981-12-31T00:00:00\",\"1982-01-31T00:00:00\",\"1982-02-28T00:00:00\",\"1982-03-31T00:00:00\",\"1982-04-30T00:00:00\",\"1982-05-31T00:00:00\",\"1982-06-30T00:00:00\",\"1982-07-31T00:00:00\",\"1982-08-31T00:00:00\",\"1982-09-30T00:00:00\",\"1982-10-31T00:00:00\",\"1982-11-30T00:00:00\",\"1982-12-31T00:00:00\"],\"y\":[293876,270534,296436,282470,289018,291448,318288,320922,312444,311876,296842,314424,302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071,266429,241643,269482,248052,255253,254765,275896,282143,271575,266378,252726,261328,258269,237270,258821,247269,257755,251314,280557,287472,284643,281265,258906,266765,260024,238795,262373,251699,262206,256380,280594,280779,274586,268652,250730,266548,257954,243520,258848,244278,252358,257292,278069,282774,283233,279019,264053,274868,272004,253791,281567,262861,275169,273759,291521,299690,292924,286294,269416,273052,271062,250256,276966,254925,271167,271059,295123,303334,294386,289416,275135,285368,284870,261363,289058,271558,287559,282718,311641,318501,307138,304594,288757,291980,292487,280392,297746,287194,294117,293461,322353,323643,321070,311796,290095,303594,295085,273642,302158,285967,296841,298422,326765,330525,320577,309676,291384,304438,298335,277314,306218,291833,306646,308236,328948,329609,327055,314360,296321,300499],\"type\":\"scatter\"},{\"line\":{\"color\":\"crimson\",\"width\":3},\"mode\":\"lines\",\"name\":\"Test Births\",\"x\":[\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\"],\"y\":[298011,277267,311209,294203,303532,304222,318290,324396,314830,306124,291270,299377,292526,281898,304337,286124,299728,299216,325905,335661,326902,321739,297174,302321],\"type\":\"scatter\"},{\"line\":{\"color\":\"darkviolet\",\"width\":3},\"mode\":\"lines\",\"name\":\"AutoArima\",\"x\":[\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\"],\"y\":[301768.4890256672,291830.3629738691,304713.3933779727,296467.8183743279,302309.8435061217,301950.4572736141,314531.74868066446,316801.9241014758,313755.5969060831,309868.03650681535,301170.5282729111,305691.11500949477,307225.8747825543,297623.3575562215,309519.5680208111,301759.126190584,307244.111628809,306906.6895521263,318719.06601490057,320850.4979831748,317990.34933097835,314340.38006532803,306174.4264900549,310418.73421948456],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"title\":{\"text\":\"Monthly births in the USA\",\"x\":0.5,\"y\":0.9,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},\"yaxis\":{\"title\":{\"text\":\"Births\"},\"range\":[220000,340000]},\"xaxis\":{\"title\":{\"text\":\"Month\"}},\"showlegend\":true,\"width\":1200,\"height\":600},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('a58f4757-558e-4f6f-b7e6-efd3a5e3b85c');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "😎 Better right? With a bigger dataset the **AutoARIMA** model is capable of understanding more about the Time Series trend, seasonality, and some other different parameters!"
      ],
      "metadata": {
        "id": "QnXOyz-ETibl"
      },
      "id": "QnXOyz-ETibl"
    },
    {
      "cell_type": "markdown",
      "source": [
        "# Time Series - Second Lecture"
      ],
      "metadata": {
        "id": "JiWL6ZXYhm8Z"
      },
      "id": "JiWL6ZXYhm8Z"
    },
    {
      "cell_type": "markdown",
      "source": [
        "Time Series modeling:\n",
        "- Prophet (by Facebook)    🧙‍♂️\n",
        "- Silverkite (by LinkedIN) 🕵️‍♀️\n",
        "\n",
        "Using Greykite library/framework!  🦅"
      ],
      "metadata": {
        "id": "GqBni65Hhvsj"
      },
      "id": "GqBni65Hhvsj"
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Loading the full dataset (1969 - 1988)"
      ],
      "metadata": {
        "id": "Zc5FI_oNjMKP"
      },
      "id": "Zc5FI_oNjMKP"
    },
    {
      "cell_type": "code",
      "source": [
        "import numpy as np\n",
        "import pandas as pd\n",
        "import matplotlib.pyplot as plt\n",
        "import seaborn as sns"
      ],
      "metadata": {
        "id": "OFwTMhLQ1A9L"
      },
      "id": "OFwTMhLQ1A9L",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "url = \"https://wagon-public-datasets.s3.amazonaws.com/data-analytics/machine-learning/births.csv\"\n",
        "births = pd.read_csv(url)\n",
        "\n",
        "# Cleaning:\n",
        "births.dropna(inplace = True)\n",
        "births.day = births.day.astype(int)\n",
        "# Datetime column and reindexing:\n",
        "births['date'] = pd.to_datetime(births[['year', 'month', 'day']], errors='coerce')\n",
        "births = births.dropna()\n",
        "births = births.set_index('date')\n",
        "# Resampling:\n",
        "births_month = births['births'].resample('M').sum()\n",
        "\n",
        "# Reindexing and creating a column with the date:\n",
        "births_month = births_month.reset_index()"
      ],
      "metadata": {
        "id": "3JzWAYUShvJW"
      },
      "id": "3JzWAYUShvJW",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "births_month.head()"
      ],
      "metadata": {
        "id": "RplMc4QsklQD",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 206
        },
        "outputId": "0e9781a6-f70e-4863-ae3a-8e5874db52cc"
      },
      "id": "RplMc4QsklQD",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        date  births\n",
              "0 1969-01-31  293876\n",
              "1 1969-02-28  270534\n",
              "2 1969-03-31  296436\n",
              "3 1969-04-30  282470\n",
              "4 1969-05-31  289018"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-4607d45f-c6fe-48a1-9266-0997df2c5e0a\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>date</th>\n",
              "      <th>births</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1969-01-31</td>\n",
              "      <td>293876</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>1969-02-28</td>\n",
              "      <td>270534</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>1969-03-31</td>\n",
              "      <td>296436</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>1969-04-30</td>\n",
              "      <td>282470</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>1969-05-31</td>\n",
              "      <td>289018</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4607d45f-c6fe-48a1-9266-0997df2c5e0a')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-4607d45f-c6fe-48a1-9266-0997df2c5e0a button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-4607d45f-c6fe-48a1-9266-0997df2c5e0a');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-194acd99-3873-4e7a-b118-2584f45c844c\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-194acd99-3873-4e7a-b118-2584f45c844c')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-194acd99-3873-4e7a-b118-2584f45c844c button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "births_month",
              "summary": "{\n  \"name\": \"births_month\",\n  \"rows\": 240,\n  \"fields\": [\n    {\n      \"column\": \"date\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"1969-01-31 00:00:00\",\n        \"max\": \"1988-12-31 00:00:00\",\n        \"num_unique_values\": 240,\n        \"samples\": [\n          \"1971-01-31 00:00:00\",\n          \"1969-07-31 00:00:00\",\n          \"1976-10-31 00:00:00\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"births\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 24711,\n        \"min\": 237270,\n        \"max\": 354599,\n        \"num_unique_values\": 240,\n        \"samples\": [\n          312806,\n          318288,\n          279019\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 129
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Preparing the Dataset:"
      ],
      "metadata": {
        "id": "16gfeJOwj9DD"
      },
      "id": "16gfeJOwj9DD"
    },
    {
      "cell_type": "code",
      "source": [
        "# Preparing the dataframe\n",
        "from datetime import datetime\n",
        "from greykite.framework.templates.autogen.forecast_config import ForecastConfig, MetadataParam\n",
        "\n",
        "# We have data until December 1988. Training end: 31/12/1986\n",
        "\n",
        "\n",
        "\n",
        "config = ForecastConfig(\n",
        "                        model_template = \"PROPHET\",     # 'SILVERKITE' or 'PROPHET'\n",
        "                        forecast_horizon = 24,          #  Number of steps to predict\n",
        "                        coverage = 0.95,                #  Confidence interval of the prediction interval\n",
        "\n",
        "                        metadata_param = MetadataParam(\n",
        "                            freq = \"M\",\n",
        "                            train_end_date = datetime(1986,12,31), #Testing --> 2 years\n",
        "                            time_col = \"date\",\n",
        "                            value_col = \"births\",\n",
        "                            )\n",
        "                      )\n"
      ],
      "metadata": {
        "id": "MkWHl_UnWMsk"
      },
      "id": "MkWHl_UnWMsk",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "from greykite.framework.templates.forecaster import Forecaster\n",
        "\n",
        "forecaster = Forecaster()\n",
        "\n",
        "result = forecaster.run_forecast_config(df = births_month,\n",
        "                                        config = config,\n",
        "                                    )\n"
      ],
      "metadata": {
        "id": "GuFDWby4nQJi",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "eb1b27ba-9a0c-4897-f9db-e69ad999b6bc"
      },
      "id": "GuFDWby4nQJi",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "INFO:prophet:Disabling weekly seasonality. Run prophet with weekly_seasonality=True to override this.\n",
            "INFO:prophet:Disabling daily seasonality. Run prophet with daily_seasonality=True to override this.\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Fitting 3 folds for each of 1 candidates, totalling 3 fits\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/p9rdyoqh.json\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/z8521vgs.json\n",
            "DEBUG:cmdstanpy:idx 0\n",
            "DEBUG:cmdstanpy:running CmdStan, num_threads: None\n",
            "DEBUG:cmdstanpy:CmdStan args: ['/usr/local/lib/python3.11/dist-packages/prophet/stan_model/prophet_model.bin', 'random', 'seed=83962', 'data', 'file=/tmp/tmp4hyl2fo2/p9rdyoqh.json', 'init=/tmp/tmp4hyl2fo2/z8521vgs.json', 'output', 'file=/tmp/tmp4hyl2fo2/prophet_modelo6cvaqgb/prophet_model-20250515094502.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']\n",
            "09:45:02 - cmdstanpy - INFO - Chain [1] start processing\n",
            "INFO:cmdstanpy:Chain [1] start processing\n",
            "09:45:07 - cmdstanpy - INFO - Chain [1] done processing\n",
            "INFO:cmdstanpy:Chain [1] done processing\n",
            "INFO:prophet:Disabling weekly seasonality. Run prophet with weekly_seasonality=True to override this.\n",
            "INFO:prophet:Disabling daily seasonality. Run prophet with daily_seasonality=True to override this.\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/294civjb.json\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/47_7xpqy.json\n",
            "DEBUG:cmdstanpy:idx 0\n",
            "DEBUG:cmdstanpy:running CmdStan, num_threads: None\n",
            "DEBUG:cmdstanpy:CmdStan args: ['/usr/local/lib/python3.11/dist-packages/prophet/stan_model/prophet_model.bin', 'random', 'seed=85937', 'data', 'file=/tmp/tmp4hyl2fo2/294civjb.json', 'init=/tmp/tmp4hyl2fo2/47_7xpqy.json', 'output', 'file=/tmp/tmp4hyl2fo2/prophet_model_hslcpxh/prophet_model-20250515094510.csv', 'method=optimize', 'algorithm=lbfgs', 'iter=10000']\n",
            "09:45:10 - cmdstanpy - INFO - Chain [1] start processing\n",
            "INFO:cmdstanpy:Chain [1] start processing\n",
            "09:45:10 - cmdstanpy - INFO - Chain [1] done processing\n",
            "INFO:cmdstanpy:Chain [1] done processing\n",
            "INFO:prophet:Disabling weekly seasonality. Run prophet with weekly_seasonality=True to override this.\n",
            "INFO:prophet:Disabling daily seasonality. Run prophet with daily_seasonality=True to override this.\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/lczy6kxb.json\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/gnvroczb.json\n",
            "DEBUG:cmdstanpy:idx 0\n",
            "DEBUG:cmdstanpy:running CmdStan, num_threads: None\n",
            "DEBUG:cmdstanpy:CmdStan args: ['/usr/local/lib/python3.11/dist-packages/prophet/stan_model/prophet_model.bin', 'random', 'seed=3067', 'data', 'file=/tmp/tmp4hyl2fo2/lczy6kxb.json', 'init=/tmp/tmp4hyl2fo2/gnvroczb.json', 'output', 'file=/tmp/tmp4hyl2fo2/prophet_modelf0onckhd/prophet_model-20250515094512.csv', 'method=optimize', 'algorithm=lbfgs', 'iter=10000']\n",
            "09:45:12 - cmdstanpy - INFO - Chain [1] start processing\n",
            "INFO:cmdstanpy:Chain [1] start processing\n",
            "09:45:13 - cmdstanpy - INFO - Chain [1] done processing\n",
            "INFO:cmdstanpy:Chain [1] done processing\n",
            "INFO:prophet:Disabling weekly seasonality. Run prophet with weekly_seasonality=True to override this.\n",
            "INFO:prophet:Disabling daily seasonality. Run prophet with daily_seasonality=True to override this.\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/ysos3ml2.json\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/cu718d3d.json\n",
            "DEBUG:cmdstanpy:idx 0\n",
            "DEBUG:cmdstanpy:running CmdStan, num_threads: None\n",
            "DEBUG:cmdstanpy:CmdStan args: ['/usr/local/lib/python3.11/dist-packages/prophet/stan_model/prophet_model.bin', 'random', 'seed=78908', 'data', 'file=/tmp/tmp4hyl2fo2/ysos3ml2.json', 'init=/tmp/tmp4hyl2fo2/cu718d3d.json', 'output', 'file=/tmp/tmp4hyl2fo2/prophet_modelg93g8kac/prophet_model-20250515094515.csv', 'method=optimize', 'algorithm=lbfgs', 'iter=10000']\n",
            "09:45:15 - cmdstanpy - INFO - Chain [1] start processing\n",
            "INFO:cmdstanpy:Chain [1] start processing\n",
            "09:45:15 - cmdstanpy - INFO - Chain [1] done processing\n",
            "INFO:cmdstanpy:Chain [1] done processing\n",
            "INFO:prophet:Disabling weekly seasonality. Run prophet with weekly_seasonality=True to override this.\n",
            "INFO:prophet:Disabling daily seasonality. Run prophet with daily_seasonality=True to override this.\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/t6vzgz00.json\n",
            "DEBUG:cmdstanpy:input tempfile: /tmp/tmp4hyl2fo2/l2iutxqt.json\n",
            "DEBUG:cmdstanpy:idx 0\n",
            "DEBUG:cmdstanpy:running CmdStan, num_threads: None\n",
            "DEBUG:cmdstanpy:CmdStan args: ['/usr/local/lib/python3.11/dist-packages/prophet/stan_model/prophet_model.bin', 'random', 'seed=87109', 'data', 'file=/tmp/tmp4hyl2fo2/t6vzgz00.json', 'init=/tmp/tmp4hyl2fo2/l2iutxqt.json', 'output', 'file=/tmp/tmp4hyl2fo2/prophet_modelk9op52j0/prophet_model-20250515094517.csv', 'method=optimize', 'algorithm=lbfgs', 'iter=10000']\n",
            "09:45:17 - cmdstanpy - INFO - Chain [1] start processing\n",
            "INFO:cmdstanpy:Chain [1] start processing\n",
            "09:45:17 - cmdstanpy - INFO - Chain [1] done processing\n",
            "INFO:cmdstanpy:Chain [1] done processing\n"
          ]
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Evaluating our Prophet Model:"
      ],
      "metadata": {
        "id": "3FH9NCJ-AQly"
      },
      "id": "3FH9NCJ-AQly"
    },
    {
      "cell_type": "code",
      "source": [
        "# Plotting the result:\n",
        "result.backtest.plot()"
      ],
      "metadata": {
        "id": "P63O3leEoBvE",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 542
        },
        "outputId": "1b226bdc-7ebd-4ff6-c755-5c0e2757235c"
      },
      "id": "P63O3leEoBvE",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/html": [
              "<html>\n",
              "<head><meta charset=\"utf-8\" /></head>\n",
              "<body>\n",
              "    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n",
              "        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-2.35.2.min.js\"></script>                <div id=\"396d7746-240b-430e-ab09-dea73f3185ae\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"396d7746-240b-430e-ab09-dea73f3185ae\")) {                    Plotly.newPlot(                        \"396d7746-240b-430e-ab09-dea73f3185ae\",                        [{\"legendgroup\":\"interval\",\"line\":{\"color\":\"rgba(0, 90, 181, 0.5)\",\"width\":0.0},\"mode\":\"lines\",\"name\":\"Lower Bound\",\"x\":[\"1969-01-31T00:00:00\",\"1969-02-28T00:00:00\",\"1969-03-31T00:00:00\",\"1969-04-30T00:00:00\",\"1969-05-31T00:00:00\",\"1969-06-30T00:00:00\",\"1969-07-31T00:00:00\",\"1969-08-31T00:00:00\",\"1969-09-30T00:00:00\",\"1969-10-31T00:00:00\",\"1969-11-30T00:00:00\",\"1969-12-31T00:00:00\",\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\",\"1976-01-31T00:00:00\",\"1976-02-29T00:00:00\",\"1976-03-31T00:00:00\",\"1976-04-30T00:00:00\",\"1976-05-31T00:00:00\",\"1976-06-30T00:00:00\",\"1976-07-31T00:00:00\",\"1976-08-31T00:00:00\",\"1976-09-30T00:00:00\",\"1976-10-31T00:00:00\",\"1976-11-30T00:00:00\",\"1976-12-31T00:00:00\",\"1977-01-31T00:00:00\",\"1977-02-28T00:00:00\",\"1977-03-31T00:00:00\",\"1977-04-30T00:00:00\",\"1977-05-31T00:00:00\",\"1977-06-30T00:00:00\",\"1977-07-31T00:00:00\",\"1977-08-31T00:00:00\",\"1977-09-30T00:00:00\",\"1977-10-31T00:00:00\",\"1977-11-30T00:00:00\",\"1977-12-31T00:00:00\",\"1978-01-31T00:00:00\",\"1978-02-28T00:00:00\",\"1978-03-31T00:00:00\",\"1978-04-30T00:00:00\",\"1978-05-31T00:00:00\",\"1978-06-30T00:00:00\",\"1978-07-31T00:00:00\",\"1978-08-31T00:00:00\",\"1978-09-30T00:00:00\",\"1978-10-31T00:00:00\",\"1978-11-30T00:00:00\",\"1978-12-31T00:00:00\",\"1979-01-31T00:00:00\",\"1979-02-28T00:00:00\",\"1979-03-31T00:00:00\",\"1979-04-30T00:00:00\",\"1979-05-31T00:00:00\",\"1979-06-30T00:00:00\",\"1979-07-31T00:00:00\",\"1979-08-31T00:00:00\",\"1979-09-30T00:00:00\",\"1979-10-31T00:00:00\",\"1979-11-30T00:00:00\",\"1979-12-31T00:00:00\",\"1980-01-31T00:00:00\",\"1980-02-29T00:00:00\",\"1980-03-31T00:00:00\",\"1980-04-30T00:00:00\",\"1980-05-31T00:00:00\",\"1980-06-30T00:00:00\",\"1980-07-31T00:00:00\",\"1980-08-31T00:00:00\",\"1980-09-30T00:00:00\",\"1980-10-31T00:00:00\",\"1980-11-30T00:00:00\",\"1980-12-31T00:00:00\",\"1981-01-31T00:00:00\",\"1981-02-28T00:00:00\",\"1981-03-31T00:00:00\",\"1981-04-30T00:00:00\",\"1981-05-31T00:00:00\",\"1981-06-30T00:00:00\",\"1981-07-31T00:00:00\",\"1981-08-31T00:00:00\",\"1981-09-30T00:00:00\",\"1981-10-31T00:00:00\",\"1981-11-30T00:00:00\",\"1981-12-31T00:00:00\",\"1982-01-31T00:00:00\",\"1982-02-28T00:00:00\",\"1982-03-31T00:00:00\",\"1982-04-30T00:00:00\",\"1982-05-31T00:00:00\",\"1982-06-30T00:00:00\",\"1982-07-31T00:00:00\",\"1982-08-31T00:00:00\",\"1982-09-30T00:00:00\",\"1982-10-31T00:00:00\",\"1982-11-30T00:00:00\",\"1982-12-31T00:00:00\",\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\",\"1985-01-31T00:00:00\",\"1985-02-28T00:00:00\",\"1985-03-31T00:00:00\",\"1985-04-30T00:00:00\",\"1985-05-31T00:00:00\",\"1985-06-30T00:00:00\",\"1985-07-31T00:00:00\",\"1985-08-31T00:00:00\",\"1985-09-30T00:00:00\",\"1985-10-31T00:00:00\",\"1985-11-30T00:00:00\",\"1985-12-31T00:00:00\",\"1986-01-31T00:00:00\",\"1986-02-28T00:00:00\",\"1986-03-31T00:00:00\",\"1986-04-30T00:00:00\",\"1986-05-31T00:00:00\",\"1986-06-30T00:00:00\",\"1986-07-31T00:00:00\",\"1986-08-31T00:00:00\",\"1986-09-30T00:00:00\",\"1986-10-31T00:00:00\",\"1986-11-30T00:00:00\",\"1986-12-31T00:00:00\"],\"y\":[286732.400823029,262947.9389849685,291184.7474839436,276110.48658820277,282400.0720212892,285880.58979448746,310111.1835664936,314636.65576442727,312026.3599051274,305357.2912943112,288116.61971688824,301323.06543856213,294393.0258144064,274298.4664199242,299290.5833444161,284551.4270573299,289003.9494743625,294533.3349212102,318638.6117571046,324299.64392467553,316043.77066969336,309290.36365075747,296646.7153105047,303993.47222866653,304746.8715510208,270961.49665572913,296684.9537014897,277347.9956065782,284751.50649029977,282474.6581575733,303378.72369031265,305501.90631956735,298776.2315736128,291115.43629530846,271110.4855556178,276598.13428281195,271288.078271451,253166.65441065698,265945.5706593042,254133.6368091336,262124.45056887533,259298.21441505646,281946.6347776187,286823.3323094,279327.30450541526,271099.1604898078,251617.7790545088,262149.16771078535,253637.17640735192,234011.37370891304,257822.77204779815,239283.59025478654,247954.7808088032,247353.77781948395,271376.6090991788,276453.04561003495,269380.7487204004,262521.4302709221,244407.32667906163,257223.2189446256,250369.5829285158,229516.89949298775,254787.80618622902,239309.98340702386,249912.71554584254,247063.77502308274,270886.85062552255,279443.511184628,268891.3896665314,263317.8815798628,250973.91427179048,259693.37402871373,249563.62813965583,228826.91284129655,253920.0756359307,239720.36416002957,250781.94815841407,249123.68305288735,271880.62221721857,274502.7802990711,270435.8888737301,264193.67699783534,246578.5268403548,261539.5820579302,249889.80315291655,233986.11456772572,255938.9839120523,239305.1999441748,245037.943476939,249812.38280941336,273702.6102650696,280030.6059056128,276376.68741557276,270958.3597880404,256255.48136466797,266691.89930479234,258779.9298926368,245999.23462439716,265083.38368513517,248254.83142974428,267091.35502835474,258849.45160327022,281622.9712943947,289733.18886965874,284132.69370427396,277926.924989418,260765.90040496364,263341.9832672032,266304.685436181,246759.3472736513,273258.43388663314,247464.55667656776,263574.4632654925,267562.5042261206,292029.6616204587,298149.1302102658,291614.1787057748,286060.2521823513,269176.72113139095,282927.7306388097,276647.9313749834,254363.24495955647,282346.9562075821,266338.389053816,276628.95979713806,276291.2662943976,300155.9257150494,306097.5070296725,300039.48222797026,296626.14719552186,280913.1429481988,292897.2496018954,284670.7960720057,266459.47020074504,287627.1814287284,271942.39205683395,289795.3735432126,282527.66630125366,308064.2594791194,312047.410646117,309045.63552688435,302729.4420178972,284317.6000785243,296195.98148252355,289352.0025436655,271261.712789822,295184.96928569285,278154.7618090466,293201.98723986954,288219.42912651406,318528.8562847211,322383.44317163905,311778.74706474063,305080.8452008463,287009.7546267852,299314.7966657467,291873.7316374409,271813.42015422124,297015.5974182506,280581.8580025067,291103.8206876589,289367.1606200418,311941.41100934456,316432.36632252386,319362.2524639436,306136.02494934865,287980.12197256385,293992.47702089575,292505.9372145899,271470.33394956344,303681.62305602204,286232.1576133983,295234.03695477254,291413.2952279085,312233.75808220723,319263.6630837715,313265.828624785,306894.11948784103,288766.5422855475,293338.8574097139,284338.06197810074,275765.05986524094,297843.9121075571,281219.04737704754,291886.6041699363,296617.21508524,314713.52910317044,321097.5022096873,314449.8356151559,308140.7916045029,289845.1701420162,300872.89459205687,295500.34042549797,276101.80999462336,299914.75114731374,282447.12342320767,296523.43465644354,291652.0253831056,315337.2888678642,324750.44106112386,315126.61787586275,307764.858790787,294769.8416074851,301870.2322217537,293239.44473782345,273147.3269507775,295782.17006199085,280057.6625956695,293405.78845283756,287961.8980972718,311384.0243583141,312852.08169782895,308886.9391606623,301364.70082059386,283586.11434394325,296407.26267588144],\"type\":\"scatter\"},{\"fill\":\"tonexty\",\"fillcolor\":\"rgba(0, 90, 181, 0.15)\",\"legendgroup\":\"interval\",\"line\":{\"color\":\"rgba(0, 90, 181, 0.5)\",\"width\":0.0},\"mode\":\"lines\",\"name\":\"Upper Bound\",\"x\":[\"1969-01-31T00:00:00\",\"1969-02-28T00:00:00\",\"1969-03-31T00:00:00\",\"1969-04-30T00:00:00\",\"1969-05-31T00:00:00\",\"1969-06-30T00:00:00\",\"1969-07-31T00:00:00\",\"1969-08-31T00:00:00\",\"1969-09-30T00:00:00\",\"1969-10-31T00:00:00\",\"1969-11-30T00:00:00\",\"1969-12-31T00:00:00\",\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\",\"1976-01-31T00:00:00\",\"1976-02-29T00:00:00\",\"1976-03-31T00:00:00\",\"1976-04-30T00:00:00\",\"1976-05-31T00:00:00\",\"1976-06-30T00:00:00\",\"1976-07-31T00:00:00\",\"1976-08-31T00:00:00\",\"1976-09-30T00:00:00\",\"1976-10-31T00:00:00\",\"1976-11-30T00:00:00\",\"1976-12-31T00:00:00\",\"1977-01-31T00:00:00\",\"1977-02-28T00:00:00\",\"1977-03-31T00:00:00\",\"1977-04-30T00:00:00\",\"1977-05-31T00:00:00\",\"1977-06-30T00:00:00\",\"1977-07-31T00:00:00\",\"1977-08-31T00:00:00\",\"1977-09-30T00:00:00\",\"1977-10-31T00:00:00\",\"1977-11-30T00:00:00\",\"1977-12-31T00:00:00\",\"1978-01-31T00:00:00\",\"1978-02-28T00:00:00\",\"1978-03-31T00:00:00\",\"1978-04-30T00:00:00\",\"1978-05-31T00:00:00\",\"1978-06-30T00:00:00\",\"1978-07-31T00:00:00\",\"1978-08-31T00:00:00\",\"1978-09-30T00:00:00\",\"1978-10-31T00:00:00\",\"1978-11-30T00:00:00\",\"1978-12-31T00:00:00\",\"1979-01-31T00:00:00\",\"1979-02-28T00:00:00\",\"1979-03-31T00:00:00\",\"1979-04-30T00:00:00\",\"1979-05-31T00:00:00\",\"1979-06-30T00:00:00\",\"1979-07-31T00:00:00\",\"1979-08-31T00:00:00\",\"1979-09-30T00:00:00\",\"1979-10-31T00:00:00\",\"1979-11-30T00:00:00\",\"1979-12-31T00:00:00\",\"1980-01-31T00:00:00\",\"1980-02-29T00:00:00\",\"1980-03-31T00:00:00\",\"1980-04-30T00:00:00\",\"1980-05-31T00:00:00\",\"1980-06-30T00:00:00\",\"1980-07-31T00:00:00\",\"1980-08-31T00:00:00\",\"1980-09-30T00:00:00\",\"1980-10-31T00:00:00\",\"1980-11-30T00:00:00\",\"1980-12-31T00:00:00\",\"1981-01-31T00:00:00\",\"1981-02-28T00:00:00\",\"1981-03-31T00:00:00\",\"1981-04-30T00:00:00\",\"1981-05-31T00:00:00\",\"1981-06-30T00:00:00\",\"1981-07-31T00:00:00\",\"1981-08-31T00:00:00\",\"1981-09-30T00:00:00\",\"1981-10-31T00:00:00\",\"1981-11-30T00:00:00\",\"1981-12-31T00:00:00\",\"1982-01-31T00:00:00\",\"1982-02-28T00:00:00\",\"1982-03-31T00:00:00\",\"1982-04-30T00:00:00\",\"1982-05-31T00:00:00\",\"1982-06-30T00:00:00\",\"1982-07-31T00:00:00\",\"1982-08-31T00:00:00\",\"1982-09-30T00:00:00\",\"1982-10-31T00:00:00\",\"1982-11-30T00:00:00\",\"1982-12-31T00:00:00\",\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\",\"1985-01-31T00:00:00\",\"1985-02-28T00:00:00\",\"1985-03-31T00:00:00\",\"1985-04-30T00:00:00\",\"1985-05-31T00:00:00\",\"1985-06-30T00:00:00\",\"1985-07-31T00:00:00\",\"1985-08-31T00:00:00\",\"1985-09-30T00:00:00\",\"1985-10-31T00:00:00\",\"1985-11-30T00:00:00\",\"1985-12-31T00:00:00\",\"1986-01-31T00:00:00\",\"1986-02-28T00:00:00\",\"1986-03-31T00:00:00\",\"1986-04-30T00:00:00\",\"1986-05-31T00:00:00\",\"1986-06-30T00:00:00\",\"1986-07-31T00:00:00\",\"1986-08-31T00:00:00\",\"1986-09-30T00:00:00\",\"1986-10-31T00:00:00\",\"1986-11-30T00:00:00\",\"1986-12-31T00:00:00\"],\"y\":[302480.7847274651,278417.6959055253,306935.89075783105,292066.403034245,297843.9418859961,301352.5455415127,326114.50462184683,330405.93079992186,327203.4263272315,320907.39442866173,303523.63551755226,316400.510887807,309707.16257917584,290138.0048933336,315040.2370584433,299997.0172551174,304330.0643908574,309683.9542619446,334605.90225386195,339696.7952899252,332064.7627832631,324969.3058074226,312456.7939384861,319788.0598863006,320408.6566959014,286836.16139618587,312311.2787002258,294965.6875006387,300917.34096520557,298680.75444730645,319180.2553651529,321323.6558190856,315176.34577358526,306150.714248447,287251.82354350394,292276.1010511748,286938.9664948177,268447.1304101484,281247.6423240851,269926.0749067954,277882.10757459357,274697.40843934333,297966.5896861845,302780.8338650736,294334.48196174763,287151.7852544256,266662.79733228,277326.78424635937,269535.6797479268,249944.34050709568,272961.56110517017,255180.80350484012,262923.47975249926,263362.1051073208,286507.8308947225,291017.1033220426,284682.49345162115,278669.6302110212,260520.14212670372,272683.1631304083,266630.2631730393,244971.37148387663,271373.29997375293,254143.29178252877,266000.42055476364,262939.07834189443,286651.8615557158,295457.0294622925,285318.79559348384,278761.4149175988,267190.895340406,274856.79842131556,265256.2045176364,244600.48210900073,269626.4330275004,255969.0940924095,266445.50628547854,264484.0492338145,287560.6701538895,290087.4456001593,286244.6832409937,280400.40704240644,262134.03835518632,277375.63102584775,266211.96405320254,249486.69239952124,271887.6375374444,255323.83965549793,259935.30581343942,265631.6194867396,289728.8152551483,295282.66238396894,292002.9068965714,285960.23469725595,272580.23586088227,282887.5682017511,275235.810988979,262215.6035839493,280662.60201057274,263925.0200610611,282578.3568194041,274619.1409204001,297436.72503037093,305212.01041538664,299916.4609779589,294181.0543206571,275990.09643923154,279246.6767395311,282389.52419213514,262725.93226935354,289129.601028003,262731.6070170939,279455.6967354251,282622.31225578685,307423.8608474119,313770.42143877316,307196.61984151264,301231.35250546096,284464.0175821844,298827.0805093014,292187.28688769345,269483.09841986455,297904.4273105602,282141.39975751494,293209.8503904991,292296.5134373811,315644.91654059844,321769.82968477556,314553.1428285352,312650.92385864706,296656.9804014647,308421.5332288054,300207.6434694767,281910.21127591474,303339.81607321353,287694.6606994719,305965.7895825903,298610.7294945276,323670.04364261974,327821.56466547324,325054.54425486363,318200.7028094827,300236.8553110112,311589.49299911805,305633.57765062456,286221.8774109037,310519.1493646425,294253.7464089265,308402.726111846,303443.88994513184,334473.06280992884,337967.591280192,327024.8156316273,320098.03345185966,302333.93763276254,314203.67583790794,307423.1216582185,287434.7523966345,312980.9629379541,296165.4337000045,306996.7091487278,304894.9423029662,327143.208964851,331871.08216700674,334948.5510944179,322131.5756832025,303955.3097884119,309702.9666217932,307287.5935555517,287042.66809526563,318780.0389905018,302285.4949993529,311010.7029306275,307347.6362545415,328141.08314127737,335246.6453591596,328358.90323044534,322429.7907985112,304714.82095821487,308849.6039871872,300945.60195093,291867.38192124263,314142.55293730996,296111.1449624956,307788.52145345765,311586.84208170354,330228.2961995668,337437.20902755996,329864.4864539079,323749.46446527715,305479.3011328314,317119.2356551592,311026.0752265714,290861.95347442984,315519.3987945988,298960.310309296,313132.4365100713,307545.4542837553,332100.4731872298,341067.15482947056,331507.09041047894,325403.9577496028,312271.2814070332,320562.7219477529,312859.3813487592,293168.8121853334,317657.75193425664,303706.3919615556,315831.81210653146,313305.1322293633,337757.16851825354,341373.0935642832,338815.4908246172,332384.397500461,316517.9372986022,329345.5975477725],\"type\":\"scatter\"},{\"line\":{\"color\":\"rgba(250, 43, 20, 0.7)\"},\"marker\":{\"color\":\"rgba(250, 43, 20, 0.7)\",\"size\":2.0},\"mode\":\"lines+markers\",\"name\":\"Actual\",\"opacity\":1.0,\"x\":[\"1969-01-31T00:00:00\",\"1969-02-28T00:00:00\",\"1969-03-31T00:00:00\",\"1969-04-30T00:00:00\",\"1969-05-31T00:00:00\",\"1969-06-30T00:00:00\",\"1969-07-31T00:00:00\",\"1969-08-31T00:00:00\",\"1969-09-30T00:00:00\",\"1969-10-31T00:00:00\",\"1969-11-30T00:00:00\",\"1969-12-31T00:00:00\",\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\",\"1976-01-31T00:00:00\",\"1976-02-29T00:00:00\",\"1976-03-31T00:00:00\",\"1976-04-30T00:00:00\",\"1976-05-31T00:00:00\",\"1976-06-30T00:00:00\",\"1976-07-31T00:00:00\",\"1976-08-31T00:00:00\",\"1976-09-30T00:00:00\",\"1976-10-31T00:00:00\",\"1976-11-30T00:00:00\",\"1976-12-31T00:00:00\",\"1977-01-31T00:00:00\",\"1977-02-28T00:00:00\",\"1977-03-31T00:00:00\",\"1977-04-30T00:00:00\",\"1977-05-31T00:00:00\",\"1977-06-30T00:00:00\",\"1977-07-31T00:00:00\",\"1977-08-31T00:00:00\",\"1977-09-30T00:00:00\",\"1977-10-31T00:00:00\",\"1977-11-30T00:00:00\",\"1977-12-31T00:00:00\",\"1978-01-31T00:00:00\",\"1978-02-28T00:00:00\",\"1978-03-31T00:00:00\",\"1978-04-30T00:00:00\",\"1978-05-31T00:00:00\",\"1978-06-30T00:00:00\",\"1978-07-31T00:00:00\",\"1978-08-31T00:00:00\",\"1978-09-30T00:00:00\",\"1978-10-31T00:00:00\",\"1978-11-30T00:00:00\",\"1978-12-31T00:00:00\",\"1979-01-31T00:00:00\",\"1979-02-28T00:00:00\",\"1979-03-31T00:00:00\",\"1979-04-30T00:00:00\",\"1979-05-31T00:00:00\",\"1979-06-30T00:00:00\",\"1979-07-31T00:00:00\",\"1979-08-31T00:00:00\",\"1979-09-30T00:00:00\",\"1979-10-31T00:00:00\",\"1979-11-30T00:00:00\",\"1979-12-31T00:00:00\",\"1980-01-31T00:00:00\",\"1980-02-29T00:00:00\",\"1980-03-31T00:00:00\",\"1980-04-30T00:00:00\",\"1980-05-31T00:00:00\",\"1980-06-30T00:00:00\",\"1980-07-31T00:00:00\",\"1980-08-31T00:00:00\",\"1980-09-30T00:00:00\",\"1980-10-31T00:00:00\",\"1980-11-30T00:00:00\",\"1980-12-31T00:00:00\",\"1981-01-31T00:00:00\",\"1981-02-28T00:00:00\",\"1981-03-31T00:00:00\",\"1981-04-30T00:00:00\",\"1981-05-31T00:00:00\",\"1981-06-30T00:00:00\",\"1981-07-31T00:00:00\",\"1981-08-31T00:00:00\",\"1981-09-30T00:00:00\",\"1981-10-31T00:00:00\",\"1981-11-30T00:00:00\",\"1981-12-31T00:00:00\",\"1982-01-31T00:00:00\",\"1982-02-28T00:00:00\",\"1982-03-31T00:00:00\",\"1982-04-30T00:00:00\",\"1982-05-31T00:00:00\",\"1982-06-30T00:00:00\",\"1982-07-31T00:00:00\",\"1982-08-31T00:00:00\",\"1982-09-30T00:00:00\",\"1982-10-31T00:00:00\",\"1982-11-30T00:00:00\",\"1982-12-31T00:00:00\",\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\",\"1985-01-31T00:00:00\",\"1985-02-28T00:00:00\",\"1985-03-31T00:00:00\",\"1985-04-30T00:00:00\",\"1985-05-31T00:00:00\",\"1985-06-30T00:00:00\",\"1985-07-31T00:00:00\",\"1985-08-31T00:00:00\",\"1985-09-30T00:00:00\",\"1985-10-31T00:00:00\",\"1985-11-30T00:00:00\",\"1985-12-31T00:00:00\",\"1986-01-31T00:00:00\",\"1986-02-28T00:00:00\",\"1986-03-31T00:00:00\",\"1986-04-30T00:00:00\",\"1986-05-31T00:00:00\",\"1986-06-30T00:00:00\",\"1986-07-31T00:00:00\",\"1986-08-31T00:00:00\",\"1986-09-30T00:00:00\",\"1986-10-31T00:00:00\",\"1986-11-30T00:00:00\",\"1986-12-31T00:00:00\"],\"y\":[293876,270534,296436,282470,289018,291448,318288,320922,312444,311876,296842,314424,302140,281182,307208,286924,297996,303162,330226,331114,332192,323886,309302,329274,312806,284012,308294,286268,284890,285474,305496,313086,311434,303204,281728,286382,276520,262834,273629,255047,270265,260193,278252,288546,283014,275879,264613,277071,266429,241643,269482,248052,255253,254765,275896,282143,271575,266378,252726,261328,258269,237270,258821,247269,257755,251314,280557,287472,284643,281265,258906,266765,260024,238795,262373,251699,262206,256380,280594,280779,274586,268652,250730,266548,257954,243520,258848,244278,252358,257292,278069,282774,283233,279019,264053,274868,272004,253791,281567,262861,275169,273759,291521,299690,292924,286294,269416,273052,271062,250256,276966,254925,271167,271059,295123,303334,294386,289416,275135,285368,284870,261363,289058,271558,287559,282718,311641,318501,307138,304594,288757,291980,292487,280392,297746,287194,294117,293461,322353,323643,321070,311796,290095,303594,295085,273642,302158,285967,296841,298422,326765,330525,320577,309676,291384,304438,298335,277314,306218,291833,306646,308236,328948,329609,327055,314360,296321,300499,298011,277267,311209,294203,303532,304222,318290,324396,314830,306124,291270,299377,292526,281898,304337,286124,299728,299216,325905,335661,326902,321739,297174,302321,304417,281576,311023,302126,318010,308862,333911,337018,331675,323377,301927,311132,306516,282785,312746,304450,316319,308011,334911,334264,334582,319471,293571,313056],\"type\":\"scatter\"},{\"line\":{\"color\":\"rgba(0, 90, 181, 0.7)\",\"dash\":\"solid\"},\"name\":\"Forecast\",\"x\":[\"1969-01-31T00:00:00\",\"1969-02-28T00:00:00\",\"1969-03-31T00:00:00\",\"1969-04-30T00:00:00\",\"1969-05-31T00:00:00\",\"1969-06-30T00:00:00\",\"1969-07-31T00:00:00\",\"1969-08-31T00:00:00\",\"1969-09-30T00:00:00\",\"1969-10-31T00:00:00\",\"1969-11-30T00:00:00\",\"1969-12-31T00:00:00\",\"1970-01-31T00:00:00\",\"1970-02-28T00:00:00\",\"1970-03-31T00:00:00\",\"1970-04-30T00:00:00\",\"1970-05-31T00:00:00\",\"1970-06-30T00:00:00\",\"1970-07-31T00:00:00\",\"1970-08-31T00:00:00\",\"1970-09-30T00:00:00\",\"1970-10-31T00:00:00\",\"1970-11-30T00:00:00\",\"1970-12-31T00:00:00\",\"1971-01-31T00:00:00\",\"1971-02-28T00:00:00\",\"1971-03-31T00:00:00\",\"1971-04-30T00:00:00\",\"1971-05-31T00:00:00\",\"1971-06-30T00:00:00\",\"1971-07-31T00:00:00\",\"1971-08-31T00:00:00\",\"1971-09-30T00:00:00\",\"1971-10-31T00:00:00\",\"1971-11-30T00:00:00\",\"1971-12-31T00:00:00\",\"1972-01-31T00:00:00\",\"1972-02-29T00:00:00\",\"1972-03-31T00:00:00\",\"1972-04-30T00:00:00\",\"1972-05-31T00:00:00\",\"1972-06-30T00:00:00\",\"1972-07-31T00:00:00\",\"1972-08-31T00:00:00\",\"1972-09-30T00:00:00\",\"1972-10-31T00:00:00\",\"1972-11-30T00:00:00\",\"1972-12-31T00:00:00\",\"1973-01-31T00:00:00\",\"1973-02-28T00:00:00\",\"1973-03-31T00:00:00\",\"1973-04-30T00:00:00\",\"1973-05-31T00:00:00\",\"1973-06-30T00:00:00\",\"1973-07-31T00:00:00\",\"1973-08-31T00:00:00\",\"1973-09-30T00:00:00\",\"1973-10-31T00:00:00\",\"1973-11-30T00:00:00\",\"1973-12-31T00:00:00\",\"1974-01-31T00:00:00\",\"1974-02-28T00:00:00\",\"1974-03-31T00:00:00\",\"1974-04-30T00:00:00\",\"1974-05-31T00:00:00\",\"1974-06-30T00:00:00\",\"1974-07-31T00:00:00\",\"1974-08-31T00:00:00\",\"1974-09-30T00:00:00\",\"1974-10-31T00:00:00\",\"1974-11-30T00:00:00\",\"1974-12-31T00:00:00\",\"1975-01-31T00:00:00\",\"1975-02-28T00:00:00\",\"1975-03-31T00:00:00\",\"1975-04-30T00:00:00\",\"1975-05-31T00:00:00\",\"1975-06-30T00:00:00\",\"1975-07-31T00:00:00\",\"1975-08-31T00:00:00\",\"1975-09-30T00:00:00\",\"1975-10-31T00:00:00\",\"1975-11-30T00:00:00\",\"1975-12-31T00:00:00\",\"1976-01-31T00:00:00\",\"1976-02-29T00:00:00\",\"1976-03-31T00:00:00\",\"1976-04-30T00:00:00\",\"1976-05-31T00:00:00\",\"1976-06-30T00:00:00\",\"1976-07-31T00:00:00\",\"1976-08-31T00:00:00\",\"1976-09-30T00:00:00\",\"1976-10-31T00:00:00\",\"1976-11-30T00:00:00\",\"1976-12-31T00:00:00\",\"1977-01-31T00:00:00\",\"1977-02-28T00:00:00\",\"1977-03-31T00:00:00\",\"1977-04-30T00:00:00\",\"1977-05-31T00:00:00\",\"1977-06-30T00:00:00\",\"1977-07-31T00:00:00\",\"1977-08-31T00:00:00\",\"1977-09-30T00:00:00\",\"1977-10-31T00:00:00\",\"1977-11-30T00:00:00\",\"1977-12-31T00:00:00\",\"1978-01-31T00:00:00\",\"1978-02-28T00:00:00\",\"1978-03-31T00:00:00\",\"1978-04-30T00:00:00\",\"1978-05-31T00:00:00\",\"1978-06-30T00:00:00\",\"1978-07-31T00:00:00\",\"1978-08-31T00:00:00\",\"1978-09-30T00:00:00\",\"1978-10-31T00:00:00\",\"1978-11-30T00:00:00\",\"1978-12-31T00:00:00\",\"1979-01-31T00:00:00\",\"1979-02-28T00:00:00\",\"1979-03-31T00:00:00\",\"1979-04-30T00:00:00\",\"1979-05-31T00:00:00\",\"1979-06-30T00:00:00\",\"1979-07-31T00:00:00\",\"1979-08-31T00:00:00\",\"1979-09-30T00:00:00\",\"1979-10-31T00:00:00\",\"1979-11-30T00:00:00\",\"1979-12-31T00:00:00\",\"1980-01-31T00:00:00\",\"1980-02-29T00:00:00\",\"1980-03-31T00:00:00\",\"1980-04-30T00:00:00\",\"1980-05-31T00:00:00\",\"1980-06-30T00:00:00\",\"1980-07-31T00:00:00\",\"1980-08-31T00:00:00\",\"1980-09-30T00:00:00\",\"1980-10-31T00:00:00\",\"1980-11-30T00:00:00\",\"1980-12-31T00:00:00\",\"1981-01-31T00:00:00\",\"1981-02-28T00:00:00\",\"1981-03-31T00:00:00\",\"1981-04-30T00:00:00\",\"1981-05-31T00:00:00\",\"1981-06-30T00:00:00\",\"1981-07-31T00:00:00\",\"1981-08-31T00:00:00\",\"1981-09-30T00:00:00\",\"1981-10-31T00:00:00\",\"1981-11-30T00:00:00\",\"1981-12-31T00:00:00\",\"1982-01-31T00:00:00\",\"1982-02-28T00:00:00\",\"1982-03-31T00:00:00\",\"1982-04-30T00:00:00\",\"1982-05-31T00:00:00\",\"1982-06-30T00:00:00\",\"1982-07-31T00:00:00\",\"1982-08-31T00:00:00\",\"1982-09-30T00:00:00\",\"1982-10-31T00:00:00\",\"1982-11-30T00:00:00\",\"1982-12-31T00:00:00\",\"1983-01-31T00:00:00\",\"1983-02-28T00:00:00\",\"1983-03-31T00:00:00\",\"1983-04-30T00:00:00\",\"1983-05-31T00:00:00\",\"1983-06-30T00:00:00\",\"1983-07-31T00:00:00\",\"1983-08-31T00:00:00\",\"1983-09-30T00:00:00\",\"1983-10-31T00:00:00\",\"1983-11-30T00:00:00\",\"1983-12-31T00:00:00\",\"1984-01-31T00:00:00\",\"1984-02-29T00:00:00\",\"1984-03-31T00:00:00\",\"1984-04-30T00:00:00\",\"1984-05-31T00:00:00\",\"1984-06-30T00:00:00\",\"1984-07-31T00:00:00\",\"1984-08-31T00:00:00\",\"1984-09-30T00:00:00\",\"1984-10-31T00:00:00\",\"1984-11-30T00:00:00\",\"1984-12-31T00:00:00\",\"1985-01-31T00:00:00\",\"1985-02-28T00:00:00\",\"1985-03-31T00:00:00\",\"1985-04-30T00:00:00\",\"1985-05-31T00:00:00\",\"1985-06-30T00:00:00\",\"1985-07-31T00:00:00\",\"1985-08-31T00:00:00\",\"1985-09-30T00:00:00\",\"1985-10-31T00:00:00\",\"1985-11-30T00:00:00\",\"1985-12-31T00:00:00\",\"1986-01-31T00:00:00\",\"1986-02-28T00:00:00\",\"1986-03-31T00:00:00\",\"1986-04-30T00:00:00\",\"1986-05-31T00:00:00\",\"1986-06-30T00:00:00\",\"1986-07-31T00:00:00\",\"1986-08-31T00:00:00\",\"1986-09-30T00:00:00\",\"1986-10-31T00:00:00\",\"1986-11-30T00:00:00\",\"1986-12-31T00:00:00\"],\"y\":[294562.2902824447,270510.39639323635,299024.3991533148,284044.65550346574,290387.963422555,294143.31298729393,318908.6128534462,322687.7627738287,319259.16218146635,313552.567180206,295750.2158750152,309020.6047414198,301690.5468930692,282215.061545173,307267.80335293105,292406.34322617634,296601.96638376435,302263.08955866215,326694.54665565933,331771.6395094301,323940.94683324825,317248.91534551576,304461.4221655553,311547.29981996294,312801.35160272266,278854.1410862421,304827.79239706823,286249.58847455564,292578.7680519715,291022.71539104945,311147.24060341663,313345.99135735916,306791.42970973084,299094.77611526294,279263.43142605986,284818.9331286606,279247.75634298904,260798.36638195478,273644.2848076438,261776.46492366906,269950.40933941613,267275.1042538779,289854.9347968651,294594.59166653,286722.23118603294,278976.34397843067,259298.25058282452,269670.7900270697,262124.6203520579,241962.52006065552,265152.45562214265,247436.88344608067,255449.73858292808,254958.49645299412,278414.1507653049,283880.81921954575,276917.8751155724,270656.1946825711,252316.66392730875,265031.9673619724,258297.19139125088,237169.97124830412,263094.98386237235,246270.49026488158,257750.39211720874,255036.47393294063,278913.6090201462,287478.1506572844,277512.35433677677,271507.58027254493,258913.07443849926,267158.309999687,257712.45404534682,236893.63636250093,262324.060038994,248082.47266669068,258157.58142641262,256648.98849905888,280155.12987077364,282453.7760969409,278138.8806998739,272370.0161234756,254404.27370982416,269263.34567839524,257919.39107929225,241598.20225740428,264153.69550710847,247532.73475428962,252358.14823579142,257987.8080396702,281632.65371843195,287721.88233662053,284215.0183484397,278269.60742681427,264060.3628036054,274840.6092697159,266761.2327781811,253789.5208308771,272761.6841232137,256349.05978219796,275116.8318992729,266520.00005370745,289327.0259288458,297278.64263785514,291744.86594693764,286075.00483121205,268308.2024475064,271237.92902514734,274322.0012366298,254879.69488317307,281395.76370692207,254916.07211296793,271523.062300505,275072.2897478446,299540.48104473384,305895.8874180324,299302.27234139456,293933.0131894429,276390.0749760346,290834.27226010256,284770.10812344105,261779.12700434995,290316.08100831835,274218.49261526135,284929.11627904745,284035.5377749807,308177.19405075815,314108.519242529,307411.47302540916,304566.0580182463,288747.8529380323,300421.9786751268,292496.56019382103,273986.86177883093,295118.3846865439,280008.82706809865,297160.48252187436,290551.2798669888,315694.3598776663,320000.1021534812,316910.2755575337,310520.79060565186,292155.34455429134,303884.2862542577,297694.5188349665,278757.5560648592,302849.79703760013,286007.42324341834,300505.29712687386,295304.5396268237,326729.6264657004,330517.78304419096,319211.5072128128,312950.60168101615,294611.820830144,307327.89916601364,299443.53078712645,279467.3778643107,305392.401958801,288567.91947139485,298952.99725061073,297333.9257299577,319757.2439479431,324352.3338550908,327056.6603864288,313805.0773972647,295647.1357527153,302080.04824337043,300009.9849036977,279191.17748760746,311220.38552746025,294210.46516949654,303490.67288693576,298946.57424436364,320457.71908727597,326892.10953812394,320436.4989113949,314667.6444517229,296701.9118284507,301183.5977394462,292540.7508901665,283895.8700735141,305860.3189966636,288667.37986330845,299600.8712562542,303994.97773547645,322467.0601434451,329134.51617197075,322432.573602709,315896.1182367173,297388.4427523447,308970.4140382063,302633.67620479927,283563.96596388664,307509.23652251845,290524.6336985309,304875.5375845231,299532.5510546648,323743.5403641219,332765.7352890266,323003.3496159232,316742.4440841266,303967.1100438534,311119.74156912294,303235.3731902362,283259.22026742395,306713.2289178723,292359.76187450584,304562.9810263239,301125.7681330705,325002.91470069275,327770.11228319287,323601.6824978413,317596.9198003767,299438.97815582756,313247.67189438286],\"type\":\"scatter\"}],                        {\"legend\":{\"traceorder\":\"reversed\"},\"showlegend\":true,\"title\":{\"text\":\"Forecast vs Actual\",\"x\":0.5},\"xaxis\":{\"title\":{\"text\":\"ts\"}},\"yaxis\":{\"title\":{\"text\":\"births\"}},\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"}}},\"shapes\":[{\"line\":{\"color\":\"rgba(100, 100, 100, 0.9)\",\"width\":1.0},\"type\":\"line\",\"x0\":\"1984-12-31T00:00:00\",\"x1\":\"1984-12-31T00:00:00\",\"xref\":\"x\",\"y0\":0,\"y1\":1,\"yref\":\"paper\"}],\"annotations\":[{\"arrowhead\":0,\"ax\":-60,\"ay\":0,\"showarrow\":true,\"text\":\"Train End Date\",\"x\":\"1984-12-31T00:00:00\",\"xref\":\"x\",\"y\":0.97,\"yref\":\"paper\"}]},                        {\"responsive\": true}                    ).then(function(){\n",
              "                            \n",
              "var gd = document.getElementById('396d7746-240b-430e-ab09-dea73f3185ae');\n",
              "var x = new MutationObserver(function (mutations, observer) {{\n",
              "        var display = window.getComputedStyle(gd).display;\n",
              "        if (!display || display === 'none') {{\n",
              "            console.log([gd, 'removed!']);\n",
              "            Plotly.purge(gd);\n",
              "            observer.disconnect();\n",
              "        }}\n",
              "}});\n",
              "\n",
              "// Listen for the removal of the full notebook cells\n",
              "var notebookContainer = gd.closest('#notebook-container');\n",
              "if (notebookContainer) {{\n",
              "    x.observe(notebookContainer, {childList: true});\n",
              "}}\n",
              "\n",
              "// Listen for the clearing of the current output cell\n",
              "var outputEl = gd.closest('.output');\n",
              "if (outputEl) {{\n",
              "    x.observe(outputEl, {childList: true});\n",
              "}}\n",
              "\n",
              "                        })                };                            </script>        </div>\n",
              "</body>\n",
              "</html>"
            ]
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "### Evaluating Metrics:"
      ],
      "metadata": {
        "id": "owVVSbu2BN6D"
      },
      "id": "owVVSbu2BN6D"
    },
    {
      "cell_type": "code",
      "source": [
        "result.backtest.test_evaluation"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "IFnd3-NXV-Z1",
        "outputId": "5099704c-0aba-425b-af79-bf316e7f4960"
      },
      "id": "IFnd3-NXV-Z1",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "{'CORR': 0.9440522149046191,\n",
              " 'R2': 0.7653498517509956,\n",
              " 'MSE': 55688142.41792718,\n",
              " 'RMSE': 7462.448821796179,\n",
              " 'MAE': 6206.82324641268,\n",
              " 'MedAE': 6263.329399467417,\n",
              " 'MAPE': 1.9576842691483711,\n",
              " 'MedAPE': 1.9707848864130955,\n",
              " 'sMAPE': 0.9918334148311725,\n",
              " 'Q80': 4701.409938995784,\n",
              " 'Q95': 5500.409096890505,\n",
              " 'Q99': 5713.4755389957645,\n",
              " 'OutsideTolerance1p': 0.7083333333333334,\n",
              " 'OutsideTolerance2p': 0.4583333333333333,\n",
              " 'OutsideTolerance3p': 0.2916666666666667,\n",
              " 'OutsideTolerance4p': 0.041666666666666664,\n",
              " 'OutsideTolerance5p': 0.0,\n",
              " 'Outside Tolerance (fraction)': None,\n",
              " 'R2_null_model_score': None,\n",
              " 'Prediction Band Width (%)': 6.8173107259176025,\n",
              " 'Prediction Band Coverage (fraction)': 0.7083333333333334,\n",
              " 'Coverage: Lower Band': 0.20833333333333334,\n",
              " 'Coverage: Upper Band': 0.5,\n",
              " 'Coverage Diff: Actual_Coverage - Intended_Coverage': -0.24166666666666659,\n",
              " 'MIS': 42317.01437436176}"
            ]
          },
          "metadata": {},
          "execution_count": 135
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "# Looking to all the different metrics!\n",
        "result.backtest.test_evaluation[\"MAE\"]"
      ],
      "metadata": {
        "id": "hlnqmDHA-J8G",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "b6a111b6-aed3-4361-b231-6852a8861362"
      },
      "id": "hlnqmDHA-J8G",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "6206.82324641268"
            ]
          },
          "metadata": {},
          "execution_count": 134
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "## Predicting for the end of the year of 2020 and 2025"
      ],
      "metadata": {
        "id": "-gGjNk_r_o8S"
      },
      "id": "-gGjNk_r_o8S"
    },
    {
      "cell_type": "code",
      "source": [
        "# Predicting the births at the end of 2020 and 2025!\n",
        "\n",
        "import datetime as dt\n",
        "\n",
        "prediction_prophet = pd.DataFrame([[dt.datetime(2020, 12, 31), 0],\n",
        "                                   [dt.datetime(2025, 12, 31), 0]], columns=[\"ts\", \"y\"])       # ts = datetime to predict, y = 0 (dummy y)\n",
        "prediction_prophet\n"
      ],
      "metadata": {
        "id": "vfqtebOKt12N",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 125
        },
        "outputId": "f0176142-d5c1-42b2-9f43-ee69980e750e"
      },
      "id": "vfqtebOKt12N",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "          ts  y\n",
              "0 2020-12-31  0\n",
              "1 2025-12-31  0"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-bd7aac10-91d5-460e-b5c2-e6dfd4295e73\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>ts</th>\n",
              "      <th>y</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>2020-12-31</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>2025-12-31</td>\n",
              "      <td>0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-bd7aac10-91d5-460e-b5c2-e6dfd4295e73')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-bd7aac10-91d5-460e-b5c2-e6dfd4295e73 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-bd7aac10-91d5-460e-b5c2-e6dfd4295e73');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-686f3469-0bc7-4df2-b8f5-930cc906b4dc\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-686f3469-0bc7-4df2-b8f5-930cc906b4dc')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-686f3469-0bc7-4df2-b8f5-930cc906b4dc button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "  <div id=\"id_328ee6de-60bb-43a9-b2b1-190f08796fcd\">\n",
              "    <style>\n",
              "      .colab-df-generate {\n",
              "        background-color: #E8F0FE;\n",
              "        border: none;\n",
              "        border-radius: 50%;\n",
              "        cursor: pointer;\n",
              "        display: none;\n",
              "        fill: #1967D2;\n",
              "        height: 32px;\n",
              "        padding: 0 0 0 0;\n",
              "        width: 32px;\n",
              "      }\n",
              "\n",
              "      .colab-df-generate:hover {\n",
              "        background-color: #E2EBFA;\n",
              "        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "        fill: #174EA6;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate {\n",
              "        background-color: #3B4455;\n",
              "        fill: #D2E3FC;\n",
              "      }\n",
              "\n",
              "      [theme=dark] .colab-df-generate:hover {\n",
              "        background-color: #434B5C;\n",
              "        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "        fill: #FFFFFF;\n",
              "      }\n",
              "    </style>\n",
              "    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('prediction_prophet')\"\n",
              "            title=\"Generate code using this dataframe.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "    <script>\n",
              "      (() => {\n",
              "      const buttonEl =\n",
              "        document.querySelector('#id_328ee6de-60bb-43a9-b2b1-190f08796fcd button.colab-df-generate');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      buttonEl.onclick = () => {\n",
              "        google.colab.notebook.generateWithVariable('prediction_prophet');\n",
              "      }\n",
              "      })();\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "variable_name": "prediction_prophet",
              "summary": "{\n  \"name\": \"prediction_prophet\",\n  \"rows\": 2,\n  \"fields\": [\n    {\n      \"column\": \"ts\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-12-31 00:00:00\",\n        \"max\": \"2025-12-31 00:00:00\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"2025-12-31 00:00:00\",\n          \"2020-12-31 00:00:00\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"y\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 136
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "result.model.predict(prediction_prophet)"
      ],
      "metadata": {
        "id": "sHmrGopu_JYL",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 112
        },
        "outputId": "72c428f9-70c9-4976-84f8-3500689e0648"
      },
      "id": "sHmrGopu_JYL",
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "          ts       forecast  forecast_lower  forecast_upper\n",
              "0 2020-12-31  401072.669165   382868.694162   422298.369004\n",
              "1 2025-12-31  412939.821021   359491.365859   474549.462846"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-71f4db07-4bd9-4a4a-a74c-957b2770eff2\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>ts</th>\n",
              "      <th>forecast</th>\n",
              "      <th>forecast_lower</th>\n",
              "      <th>forecast_upper</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>2020-12-31</td>\n",
              "      <td>401072.669165</td>\n",
              "      <td>382868.694162</td>\n",
              "      <td>422298.369004</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>2025-12-31</td>\n",
              "      <td>412939.821021</td>\n",
              "      <td>359491.365859</td>\n",
              "      <td>474549.462846</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-71f4db07-4bd9-4a4a-a74c-957b2770eff2')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-71f4db07-4bd9-4a4a-a74c-957b2770eff2 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-71f4db07-4bd9-4a4a-a74c-957b2770eff2');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    <div id=\"df-06b7668b-4b57-4ed8-909f-4205ad2bf5fc\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-06b7668b-4b57-4ed8-909f-4205ad2bf5fc')\"\n",
              "                title=\"Suggest charts\"\n",
              "                style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "      <script>\n",
              "        async function quickchart(key) {\n",
              "          const quickchartButtonEl =\n",
              "            document.querySelector('#' + key + ' button');\n",
              "          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "          quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "          try {\n",
              "            const charts = await google.colab.kernel.invokeFunction(\n",
              "                'suggestCharts', [key], {});\n",
              "          } catch (error) {\n",
              "            console.error('Error during call to suggestCharts:', error);\n",
              "          }\n",
              "          quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "          quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "        }\n",
              "        (() => {\n",
              "          let quickchartButtonEl =\n",
              "            document.querySelector('#df-06b7668b-4b57-4ed8-909f-4205ad2bf5fc button');\n",
              "          quickchartButtonEl.style.display =\n",
              "            google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "        })();\n",
              "      </script>\n",
              "    </div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "dataframe",
              "summary": "{\n  \"name\": \"result\",\n  \"rows\": 2,\n  \"fields\": [\n    {\n      \"column\": \"ts\",\n      \"properties\": {\n        \"dtype\": \"date\",\n        \"min\": \"2020-12-31 00:00:00\",\n        \"max\": \"2025-12-31 00:00:00\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          \"2025-12-31 00:00:00\",\n          \"2020-12-31 00:00:00\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"forecast\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 8391.343551014388,\n        \"min\": 401072.66916503705,\n        \"max\": 412939.8210214136,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          412939.8210214136,\n          401072.66916503705\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"forecast_lower\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 16530.267369168494,\n        \"min\": 359491.3658587799,\n        \"max\": 382868.6941619114,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          359491.3658587799,\n          382868.6941619114\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"forecast_upper\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 36947.102779463334,\n        \"min\": 422298.3690043967,\n        \"max\": 474549.46284550644,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          474549.46284550644,\n          422298.3690043967\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"
            }
          },
          "metadata": {},
          "execution_count": 137
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [],
      "metadata": {
        "id": "-mKg4w0SWUgW"
      },
      "id": "-mKg4w0SWUgW",
      "execution_count": null,
      "outputs": []
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3 (ipykernel)",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.10.6"
    },
    "toc": {
      "base_numbering": 1,
      "nav_menu": {},
      "number_sections": true,
      "sideBar": true,
      "skip_h1_title": false,
      "title_cell": "Table of Contents",
      "title_sidebar": "Contents",
      "toc_cell": false,
      "toc_position": {},
      "toc_section_display": true,
      "toc_window_display": false
    },
    "colab": {
      "provenance": [],
      "include_colab_link": true
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}